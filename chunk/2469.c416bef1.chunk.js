"use strict";(self.webpackChunkacellus=self.webpackChunkacellus||[]).push([[2469,2109],{43381:function(e,t,r){r.d(t,{r:function(){return d}});var i,o=r(47313),n=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,i,o=function(e,t){if(null==e)return{};var r,i,o={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){var r=e.title,s=e.titleId,d=l(e,n);return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":s},d),r?o.createElement("title",{id:s},r):null,i||(i=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})))}var d=o.forwardRef(s);r.p},44713:function(e,t,r){r.d(t,{Z:function(){return h}});var i,o=r(30168),n=r(29439),a=r(43681),l=r(47313),s=r(90628),d=r(58229),c=r(58467),u=r(60199),p=r(46417);function h(e){var t=e.acellusIDs,r=e.stackLength,i=(0,l.useState)(null),o=(0,n.Z)(i,2),a=o[0],h=o[1];return(0,l.useEffect)((function(){var e=new AbortController,i=null===t||void 0===t?void 0:t.slice(0,r).map((function(t){return{acellusID:t,data:Promise.all([u.Z.get(t,e.signal).catch((function(){})),u.Z.getProfileImg(t,void 0,e.signal).catch((function(){}))])}}));return h(i),function(){return e.abort()}}),[t,r]),(0,p.jsx)(m,{children:null===a||void 0===a?void 0:a.map((function(e){var t=e.acellusID,r=e.data;return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(s.Z,{}),children:(0,p.jsx)(c.KP,{resolve:r,children:function(e){var t=(0,n.Z)(e,2),r=t[0],i=t[1];return(0,p.jsx)(s.Z,{name:(0,d.Pp)(r),url:i})}})},t)}))})}var m=a.Z.div(i||(i=(0,o.Z)(["\n  ","\n  > *:not(:first-child) {\n    ","\n  }\n"])),{display:"flex",flexDirection:"row-reverse"},{marginRight:"-1.25rem"})},54801:function(e,t,r){r.d(t,{Z:function(){return a}});var i=r(43681),o=r(47313),n=r(46417);function a(e){var t=e.onChange,r=e.labelText,i=e.name,a=e.isChecked,c=(0,o.useId)();return(0,n.jsxs)(l,{children:[(0,n.jsx)(s,{name:i,id:c,"data-testid":"custom-checkbox",checked:a,type:"checkbox",onChange:t}),(0,n.jsx)(d,{htmlFor:c,children:r})]})}var l=i.Z.div({display:"flex",justifyContent:"flex-start",gap:"1rem"}),s=i.Z.input({marginTop:"auto",marginBottom:"auto",height:"1.75rem",width:"1.75rem",cursor:"pointer",borderRadius:"0.5rem","--tw-border-opacity":"1",borderColor:"rgb(209 213 219 / var(--tw-border-opacity))","--tw-text-opacity":"1",color:"rgb(37 99 235 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms",":focus":{"--tw-ring-opacity":"1","--tw-ring-color":"rgb(37 99 235 / var(--tw-ring-opacity))"}}),d=i.Z.label({marginTop:"auto",marginBottom:"auto",display:"block",fontSize:"1.4rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"})},4243:function(e,t,r){r.d(t,{RM:function(){return h},SC:function(){return m},U8:function(){return u},bi:function(){return p},iA:function(){return d},pj:function(){return g},xD:function(){return c},y6:function(){return s}});var i,o,n=r(30168),a=r(30686),l=r(43681),s=l.Z.div((function(e){var t=e.stickyPosition,r=e.customStyles,o=e.printMode;return[{position:"relative",height:"100%",width:"100%",overflow:"auto",borderRadius:"0.75rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))"},t&&!o?[{maxHeight:"70dvh","@media (min-width: 1280px)":{maxHeight:"fit-content",overflow:"visible"}},(0,a.iv)(i||(i=(0,n.Z)(["\n          thead {\n            // if stickyPosition is passed in, apply the stickyPosition that was passed in, and make the thead sticky\n            ","\n            ","\n          }\n        "])),{position:"sticky",top:"0px",zIndex:"10"},t)]:{overflowX:"auto"},r]})),d=l.Z.table((function(e){return[{width:"100%",borderCollapse:"separate","--tw-border-spacing-x":"0px","--tw-border-spacing-y":"0px",borderSpacing:"var(--tw-border-spacing-x) var(--tw-border-spacing-y)",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(223 232 249 / var(--tw-bg-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms"},e.yDividers&&{"& tbody > tr:last-of-type > td":{borderWidth:"0px"},"& tbody > tr > td":{borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))"}}]})),c=l.Z.thead({width:"100%",borderTopLeftRadius:"0.75rem",borderTopRightRadius:"0.75rem","& th:first-of-type":{borderTopLeftRadius:"0.75rem"},"& th:last-of-type":{borderTopRightRadius:"0.75rem"}}),u=l.Z.tr({borderTopLeftRadius:"0.75rem",borderTopRightRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","> th:first-of-type":{paddingLeft:"1.25rem"},"> th:last-of-type":{paddingRight:"1.25rem"},"@media (min-width: 640px)":{"> th:first-of-type":{paddingLeft:"1.75rem"},"> th:last-of-type":{paddingRight:"1.75rem"}},"@media (min-width: 1024px)":{"> th:first-of-type":{paddingLeft:"2.5rem"},"> th:last-of-type":{paddingRight:"2.5rem"}}}),p=l.Z.th((function(e){var t=e.text,r=e.sticky,i=e.leftSticky;return[{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgb(199 215 245 / var(--tw-border-opacity))",backgroundColor:"rgb(223 232 249 / 0.7)",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"1.25rem",paddingBottom:"1.25rem",fontSize:"1.2rem",fontWeight:"800","--tw-text-opacity":"0.5",color:"rgb(17 24 39 / var(--tw-text-opacity))","@media (min-width: 768px)":{padding:"1.5rem",fontSize:"1.4rem"}},(0,a.iv)(o||(o=(0,n.Z)(["\n    @supports (-moz-appearance: none) {\n      ",";\n    }\n  "])),{"--tw-bg-opacity":"1"}),"right"===t?{textAlign:"right"}:"left"===t?{textAlign:"left"}:{textAlign:"center"},r&&{position:"sticky",top:"0px",zIndex:"10",backgroundImage:"linear-gradient(to top, var(--tw-gradient-stops))","--tw-gradient-from":"rgb(223 232 249 / 0.7) var(--tw-gradient-from-position)","--tw-gradient-to":"#DFE8F9 var(--tw-gradient-to-position)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)"},i&&{"@media (min-width: 768px)":{position:"sticky",left:"0px",zIndex:"10",backgroundImage:"linear-gradient(to left, var(--tw-gradient-stops))","--tw-gradient-from":"rgb(223 232 249 / 0.7) var(--tw-gradient-from-position)","--tw-gradient-to":"#DFE8F9 var(--tw-gradient-to-position)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)"}}]})),h=l.Z.tbody({width:"100%","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))"}),m=l.Z.tr((function(e){return[e.clickable&&{cursor:"pointer","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(249 250 251 / var(--tw-bg-opacity))"}},{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms","> td:first-of-type":{paddingLeft:"1.25rem"},"> td:last-of-type":{paddingRight:"1.25rem"},"@media (min-width: 640px)":{"> td:first-of-type":{paddingLeft:"1.75rem"},"> td:last-of-type":{paddingRight:"1.75rem"}},"@media (min-width: 1024px)":{"> td:first-of-type":{paddingLeft:"2.5rem"},"> td:last-of-type":{paddingRight:"2.5rem"}}}]})),g=l.Z.td((function(e){var t=e.text;return[{whiteSpace:"nowrap",padding:"1.25rem","@media (min-width: 768px)":{padding:"1.5rem"}},"right"===t?{textAlign:"right"}:"left"===t?{textAlign:"left"}:{textAlign:"center"}]}))},92109:function(e,t,r){r.d(t,{Z:function(){return d}});var i=r(93433),o=r(4942),n=r(1413),a=r(29439),l=r(47313),s=r(2135);function d(e,t){var r,d=(0,s.useFetcher)(),c=(0,l.useState)({}),u=(0,a.Z)(c,2),p=u[0],h=u[1],m=(0,l.useState)([]),g=(0,a.Z)(m,2),v=g[0],x=g[1],f=(0,l.useState)(!1),w=(0,a.Z)(f,2),b=w[0],y=w[1],j=(0,l.useCallback)((function(e,t){return h((function(r){return(0,n.Z)((0,n.Z)({},r),{},(0,o.Z)({},e,t))}))||!0}),[]),Z=(0,l.useCallback)((function(e){return x((function(t){return[].concat((0,i.Z)(t),[e])}))}),[]),C=(0,l.useCallback)((function(e){if(!e)return h({});h((function(t){var r=(0,n.Z)({},t);return delete r[e],r}))}),[]),S=(0,l.useCallback)((function(t,r){var i=e(t,r,{});i&&j(t,i)}),[j,e]),I=(0,l.useCallback)((function(r){var o;null!==(o=d.data)&&void 0!==o&&o.toast&&toast.close(d.data.toast),v.length&&(v.forEach(toast.close),x([])),C();var n=new FormData(r.target),l=(0,i.Z)(n.entries()),s={},c=l.reduce((function(t,r){var i=(0,a.Z)(r,2),o=i[0],n=i[1],l=e(o,n,s);return l?!j(o,l):t}),!0),u="function"!==typeof t||t(s);void 0===u||u||j("data","Invalid data."),c&&(void 0===u||u)||r.preventDefault()}),[null===(r=d.data)||void 0===r?void 0:r.toast,v,C,t,j,e]),D=(0,l.useCallback)((function(e){C(e.target.name),y(!0)}),[C]),k=(0,l.useCallback)((function(e){return C(e.target.name)}),[C]),T=(0,l.useCallback)((function(e){return S(e.target.name,e.target.value)}),[S]);return(0,l.useEffect)((function(){"idle"!==d.state||!d.data||d.data instanceof Error||y(!1)}),[d]),{fetcher:d,errors:p,isDirty:b,setIsDirty:y,addToast:Z,setError:j,checkError:S,clearErrors:C,handleSubmit:I,handleChange:D,handleFocus:k,handleBlur:T}}},14105:function(e,t,r){r.d(t,{Z:function(){return ae}});var i,o=r(30168),n=r(93433),a=r(1413),l=r(29439),s=r(30686),d=r(43681),c=r(47012),u=r(48351),p=r(47313),h=r(2135),m=r(58467),g=r(7752),v=["title","titleId"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},x.apply(this,arguments)}function f(e,t){if(null==e)return{};var r,i,o=function(e,t){if(null==e)return{};var r,i,o={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function w(e,t){var r=e.title,o=e.titleId,n=f(e,v);return p.createElement("svg",x({className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},n),r?p.createElement("title",{id:o},r):null,i||(i=p.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})))}var b,y=p.forwardRef(w),j=(r.p,r(85096)),Z=r(54801),C=r(59350),S=r(82466),I=r(80793),D=r(81517),k=r(43370),T=r(81570),R=r(57830),N=r(58229),P=r(72159),L=r(44713),O=r(70187),F=r(46959),A=r(4243),B=r(60199),E=r(35667),z=r(13797),U=r(43381),W=r(90628),M=r(46417);function V(e){var t=e.teacherIDs,r=e.myAcellusID,i=e.updateTeachers,o=e.updatingTeachers,s=e.errorUpdatingTeachers,d=e.setIsChecked,c=e.close,u=(0,p.useState)([]),h=(0,l.Z)(u,2),m=h[0],g=h[1],v=(0,p.useState)(""),x=(0,l.Z)(v,2),f=x[0],w=x[1],b=(0,p.useState)(null),y=(0,l.Z)(b,2),j=y[0],Z=y[1],C=(0,p.useState)(!1),S=(0,l.Z)(C,2),I=S[0],D=S[1],k=(0,p.useState)(!1),T=(0,l.Z)(k,2),R=T[0],P=T[1];(0,p.useEffect)((function(){if(void 0!==t){var e=new AbortController,r=t.map((function(t){return B.Z.get(t,e.signal)}));return Promise.all(r).then((function(e){return g(e.map((function(e,r){return(0,a.Z)((0,a.Z)({},e),{},{acellusID:t[r]})})))})),function(){return e.abort()}}}),[t]),(0,p.useEffect)((function(){I&&!o&&(s?D(!1):c())}),[I,o,s,c,D]);return(0,M.jsx)(G,{"data-testid":"edit-teacher",children:(0,M.jsxs)(Y,{children:[(0,M.jsxs)(K,{children:[(0,M.jsx)("h6",{children:"Manage Course Teachers"}),(0,M.jsx)(J,{children:m.length>0?m.map((function(e){return(0,M.jsxs)(X,{children:[(0,M.jsxs)($,{children:[(0,M.jsx)(W.Z,{customStyles:H,acellusID:e.acellusID,name:(0,N.Pp)(e)}),(0,M.jsx)(_,{children:(0,N.Pp)(e)})]}),(0,M.jsx)(ee,{"data-testid":"remove-button",onClick:function(){return function(e){var t=m.filter((function(t){return e!==t.acellusID}));g(t)}(e.acellusID)},children:"Remove"})]},e.acellusID)})):(0,M.jsx)(E.Z,{title:"No Teachers",subtext:"Search for teachers to manage this course",children:(0,M.jsx)(Q,{})})})]}),(0,M.jsxs)(te,{children:[(0,M.jsx)(re,{children:(0,M.jsx)(z.ZP,{query:f,setQuery:w,placeholder:"Find a Teacher",onSearch:function(e){var t;null!==e&&void 0!==e&&null!==(t=e.trim)&&void 0!==t&&t.call(e)?B.Z.getSearch(e,{role:"teacher"}).then((function(e){var t;return Z((null===(t=e.result)||void 0===t?void 0:t.filter((function(e){return!m.find((function(t){return t.acellusID===e.acellusID}))})))||[])})):Z(null)},onSelection:function(e){Z((function(t){return t.filter((function(t){return t!==e}))})),g((function(t){return[].concat((0,n.Z)(t),[e])}))},results:j,comboStyle:"gray",z:50})}),(0,M.jsxs)(ie,{children:[(0,M.jsx)(F.Z,{onClick:function(){P(!1);var e=m.filter((function(e){return!(null!==t&&void 0!==t&&t.find((function(t){return t===e.acellusID})))})).map((function(e){return e.acellusID})),o=null===t||void 0===t?void 0:t.filter((function(e){return!m.find((function(t){return t.acellusID===e}))}));0!==e.length||0!==o.length?(e.includes(r)&&d(!1),i(e,o),D(!0)):P(!0)},color:"teacherBlue",colorNum:600,customStyles:{width:"50%",gap:"1rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(209 213 219 / var(--tw-border-opacity))"},isSubmitting:I&&o,isSuccessful:I&&!s,error:R,children:"Save"}),(0,M.jsx)(oe,{children:"Cancel"})]})]})]})})}var q,H={height:"4rem",width:"4rem"},G=d.Z.div({height:"auto",width:"33.8rem",maxWidth:"42rem",borderRadius:"0.75rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(209 213 219 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",padding:"1.5rem","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","@media (min-width: 500px)":{width:"35rem"}}),Y=d.Z.div({display:"flex",flexDirection:"column",gap:"1rem"}),K=d.Z.div({display:"flex",flexDirection:"column",gap:"1rem"}),J=d.Z.div(b||(b=(0,o.Z)(["\n  scroll-snap-type: y mandatory;\n  ","\n"])),{display:"flex",maxHeight:"23.5rem",flexDirection:"column",justifyContent:"space-between",overflow:"auto",scrollBehavior:"smooth",borderTopWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))"}),X=d.Z.div({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",scrollBehavior:"smooth",borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))",paddingTop:"0.75rem",paddingBottom:"0.75rem","@media (pointer: coarse)":{scrollSnapAlign:"start"}}),Q=(0,d.Z)(U.r)({height:"3.5rem !important",width:"3.5rem !important",flexShrink:"0",strokeWidth:"2"}),$=d.Z.div({display:"flex",alignItems:"center",gap:"1rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),_=d.Z.span({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"1.4rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"}),ee=d.Z.button({paddingLeft:"0.5rem",paddingRight:"0.5rem",fontSize:"1.4rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(83 126 220 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms",":hover":{"--tw-text-opacity":"1",color:"rgb(162 187 236 / var(--tw-text-opacity))"}}),te=d.Z.div({display:"flex",flexDirection:"column",gap:"1rem"}),re=d.Z.div({display:"flex",flexDirection:"column",gap:"0.5rem"}),ie=d.Z.div({display:"flex",width:"100%",gap:"2rem"}),oe=(0,d.Z)(c.J.Button)({display:"flex",width:"50%",alignItems:"center",justifyContent:"center",gap:"1rem",borderRadius:"1rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(209 213 219 / var(--tw-border-opacity))",paddingLeft:"2rem",paddingRight:"2rem",paddingTop:"1rem",paddingBottom:"1rem",fontSize:"1.4rem",fontWeight:"600","--tw-shadow":"0 1px 2px 0 rgb(0 0 0 / 0.05)","--tw-shadow-colored":"0 1px 2px 0 var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms",":hover":{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":focus":{outline:"2px solid transparent",outlineOffset:"2px","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(83 126 220 / var(--tw-ring-opacity))","--tw-ring-offset-width":"2px"}}),ne=r(70032);function ae(e){var t,r,i,d,g,v,x=e.enrollment,f=e.showCourseDetails,w=(e.setShowCourseDetails,e.updateCourse,e.setAddCoursePopupState),b=e.revalidate,y=null===f||void 0===f?void 0:f.otherVersion,N=void 0!==y&&y!==(null===f||void 0===f?void 0:f.displayCourseID),F=y||(null===f||void 0===f?void 0:f.displayCourseID),B=(0,I.mD)(F),E=B.acellusID,z=B.adminLevel,U=B.courseData,W=B.syllabusList,H=B.courseImg,G=(B.otherVersions,B.isSubmitting),Y=B.error,K=B.updateTeachers,J=B.updatingTeachers,X=B.errorUpdatingTeachers,Q=B.enrollStudent,$=(0,p.useState)([{path:"lesson-list",name:"Lesson List",isAvailable:!0},{path:"sample-videos",name:"Sample Videos",isAvailable:!1},{path:"other-versions",name:"Other Versions",isAvailable:!1}]),_=(0,l.Z)($,2),ee=_[0],te=_[1],re=(0,p.useCallback)((function(e,t){te((function(r){var i=r.findIndex((function(t){return t.path===e})),o=(0,a.Z)((0,a.Z)({},r[i]),{},{isAvailable:void 0!==t?t:!r[i].isAvailable});return[].concat((0,n.Z)(r.slice(0,i)),[o],(0,n.Z)(r.slice(i)))}))}),[]);(0,p.useEffect)((function(){var e;re("sample-videos",(null===U||void 0===U||null===(e=U.sampleVideos)||void 0===e?void 0:e.length)>0)}),[null===U||void 0===U||null===(t=U.sampleVideos)||void 0===t?void 0:t.length,re]);var ie=ee.filter((function(e){return!0===e.isAvailable})),oe=(0,D.Av)(),ae=null===oe||void 0===oe?void 0:oe.teacher,Le=(0,h.useSearchParams)(),Oe=(0,l.Z)(Le,1)[0];f||(F=parseInt(Oe.get("displayCourseID")));var Fe=(0,m.s0)(),Ae=(0,p.useState)(0),Be=(0,l.Z)(Ae,2),Ee=Be[0],ze=Be[1],Ue=(0,p.useState)(Number.isNaN(E)&&1===(null===ae||void 0===ae?void 0:ae.adminLevel)),We=(0,l.Z)(Ue,2),Me=We[0],Ve=We[1],qe=(0,p.useState)(null===x||void 0===x||null===(r=x.active)||void 0===r||null===(i=r.courses)||void 0===i?void 0:i.some((function(e){return e.displayCourseID===F}))),He=(0,l.Z)(qe,2),Ge=He[0],Ye=(He[1],(0,p.useState)(ie[0].path)),Ke=(0,l.Z)(Ye,2),Je=Ke[0],Xe=Ke[1],Qe=(0,p.useState)(),$e=(0,l.Z)(Qe,2),_e=$e[0],et=$e[1],tt=(0,p.useState)(""),rt=(0,l.Z)(tt,2),it=rt[0],ot=rt[1],nt=(0,p.useCallback)((function(e,t){ot(e),et(t)}),[]),at=(null===U||void 0===U?void 0:U.creditHours)||0,lt=null===U||void 0===U||null===(d=U.teacherIDs)||void 0===d?void 0:d.some((function(e){return e===(null===ae||void 0===ae?void 0:ae.acellusID)}));(0,p.useEffect)((function(){W&&ze(Math.ceil(W.length/30))}),[W]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(C.Z,{videoPath:_e,setVideoPath:et,title:it}),(0,M.jsxs)(S.vs,{children:[(0,M.jsx)(c.J,{className:"relative",children:(0,M.jsxs)(se,{children:[(0,M.jsxs)(de,{children:[(0,M.jsx)(ce,{children:(0,M.jsx)(ue,{src:!(H instanceof T.Z)&&H||k.CourseThumbnail})}),(0,M.jsx)("h2",{children:null===U||void 0===U?void 0:U.courseName}),(0,M.jsxs)("div",{children:[(0,M.jsx)(pe,{children:null===U||void 0===U?void 0:U.teacherName}),(0,M.jsx)(he,{children:null===U||void 0===U?void 0:U.description})]})]}),(0,M.jsxs)(me,{children:[(0,M.jsxs)(ge,{children:[(0,M.jsx)("h3",{children:(0,R.bh)(at,"Credit")}),(0,M.jsx)("p",{children:"Course Credit Value"})]}),!Number.isNaN(E)&&(0,M.jsx)(ge,{children:(0,M.jsx)(P.aK,{labelText:"Weekly Goal",steps:Ee||0,onStepChange:ze,progressLock:null===U||void 0===U?void 0:U.progressLock})}),z>=2&&(0,M.jsxs)(ve,{children:[(0,M.jsx)(xe,{children:"Teachers Managing this Course"}),(0,M.jsxs)(fe,{children:[(null===U||void 0===U||null===(g=U.teacherIDs)||void 0===g?void 0:g.length)>0?(0,M.jsx)(L.Z,{width:3.5,acellusIDs:U.teacherIDs,stackLength:5}):(0,M.jsx)(we,{children:"No Teachers"}),(0,M.jsxs)(be,{children:[(0,M.jsx)(ye,{children:(0,M.jsx)(je,{"data-testid":"edit-button",children:(0,M.jsx)(Ze,{children:"Edit"})})}),(0,M.jsx)(u.u,{as:p.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,M.jsx)(Ce,{"data-testid":"manage-course-teachers",children:function(e){var t=e.close;return(0,M.jsx)(V,{teacherIDs:null===U||void 0===U?void 0:U.teacherIDs,myAcellusID:null===ae||void 0===ae?void 0:ae.acellusID,updateTeachers:K,updatingTeachers:J,errorUpdatingTeachers:X,setIsChecked:Ve,close:t})}})})]})]})]}),(0,M.jsxs)(Se,{children:[z>=2&&!lt&&(0,M.jsx)(Z.Z,{name:"add-myself-as-a-teacher",labelText:"Add myself as a Teacher",isChecked:Me,onChange:function(){Ve((function(e){return!e}))}}),z>=1&&(!Number.isNaN(E)||N)&&(0,M.jsx)(Ie,{type:"button",color:"teacherBlue",colorNum:600,isSubmitting:G,error:Y,onClick:function(){(z<2&&!lt||Me)&&K([null===ae||void 0===ae?void 0:ae.acellusID]),Q(Ee).then((function(e){e.error||(w(!1),b(),Fe("?modal=student/details&acellusID=".concat(Oe.get("acellusID"))))}))},disabled:Ge,children:Ge?N?"Course Selected":"Student Enrolled":N?"Update Course Selection":"Enroll Student"})]})]})]})}),(0,M.jsx)(O.ZP,{customMobileStyles:{paddingLeft:"0px",paddingRight:"0px"},customStyle:{gap:"3rem","@media (min-width: 640px)":{gap:"3rem"}},transparent:!0,selectedTab:Je,setSelectedTab:Xe,navigation:ie,isModal:!0,textStyle:{"--tw-text-opacity":"1 !important",color:"rgb(55 106 215 / var(--tw-text-opacity)) !important"},barStyle:[{"--tw-border-opacity":"1",borderColor:"rgb(55 106 215 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(55 106 215 / var(--tw-bg-opacity))"},function(e){var t=e.show;return(0,s.iv)(q||(q=(0,o.Z)(["\n                --tw-translate-x: calc(","00% + 2.5rem + calc(calc("," * 3rem) - 3rem) + 4px);\n              "])),t,t)},{width:"12rem !important"}],buttonStyles:{width:"12rem !important",textAlign:"center"}}),"lesson-list"===Je&&(0,M.jsx)(ke,{children:(0,M.jsx)(A.y6,{stickyPosition:f?{"@media (min-width: 1280px)":{top:"8.5rem"}}:{"@media (min-width: 1280px)":{top:"101px"}},children:(0,M.jsxs)(A.iA,{children:[(0,M.jsxs)(A.xD,{children:[(0,M.jsx)(Te,{children:"Lesson"}),(0,M.jsx)(Te,{scope:"col",children:"Description"})]}),(0,M.jsx)(A.RM,{yDividers:!0,children:null===W||void 0===W?void 0:W.map((function(e,t){return(0,M.jsxs)(A.SC,{children:[(0,M.jsx)(A.pj,{text:"left",children:(0,M.jsxs)(Re,{children:[(0,M.jsx)(Ne,{children:void 0!==e.type&&(0,M.jsx)(Pe,{"aria-hidden":"true",src:(0,ne.q7)(e.type)})}),(0,M.jsx)("h6",{children:"".concat(t+1,". ").concat(e.title)})]})}),(0,M.jsx)(A.pj,{text:"left",children:(0,M.jsx)("p",{children:e.desc})})]},e.id)}))})]})})})]}),"sample-videos"===Je&&(0,M.jsx)(j.r,{textUnderStyles:!0,children:(null===U||void 0===U||null===(v=U.sampleVideos)||void 0===v?void 0:v.length)>0&&U.sampleVideos.map((function(e){return(0,M.jsx)(le,{course:e,videoPath:e.videoPath,onClick:function(){return nt(e.title,e.videoPath)},children:(0,M.jsx)(De,{"aria-label":"Play"})},e.title)}))})]})}function le(e){var t=e.course,r=e.onClick,i=e.videoPath,o=e.children,n=(0,p.useState)(),a=(0,l.Z)(n,2),s=a[0],d=a[1];return(0,p.useEffect)((function(){var e=new AbortController;return d(g.Z.getCourseImg({videoPath:i,displayCourseID:i?void 0:t.displayCourseID},e.signal)),function(){return e.abort()}}),[i,t.displayCourseID]),(0,M.jsx)(j.h,{title:t.courseName,instructor:t.teacherName,thumbnail:s,onClick:r,children:o})}var se=d.Z.div({display:"grid",width:"100%",maxWidth:"190rem",gridTemplateColumns:"repeat(12, minmax(0, 1fr))",gap:"2.5rem"}),de=d.Z.div({gridColumn:"span 12 / span 12",gap:"1rem","@media (min-width: 1024px)":{gridColumn:"span 8 / span 8"}}),ce=d.Z.div({gridRow:"span 4 / span 4",display:"flex",justifyContent:"flex-start",paddingBottom:"2rem"}),ue=d.Z.img({height:"auto",width:"100%",borderRadius:"1rem","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","@media (min-width: 640px)":{marginLeft:"auto",marginRight:"auto",width:"75%"},"@media (min-width: 1024px)":{marginLeft:"0px",marginRight:"0px",width:"66.666667%"}}),pe=d.Z.h6({marginBottom:"2rem"}),he=d.Z.p({fontStyle:"italic"}),me=d.Z.div({gridColumn:"span 12 / span 12",display:"flex",height:"100%",flexDirection:"column",gap:"2.5rem","@media (min-width: 1024px)":{gridColumn:"span 4 / span 4"},"@media (min-width: 1536px)":{gap:"5rem"}}),ge=d.Z.div({gridColumn:"span 12 / span 12",justifyContent:"flex-end",whiteSpace:"nowrap","@media (min-width: 768px)":{gridColumn:"span 4 / span 4"},"@media (min-width: 1024px)":{gridColumn:"span 2 / span 2",width:"33.333333%"},"@media (min-width: 1280px)":{width:"66.666667%"}}),ve=d.Z.div({display:"flex",flexDirection:"column",gap:"1rem"}),xe=d.Z.span({display:"block",fontSize:"1.4rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgb(31 41 55 / var(--tw-text-opacity))","@media (min-width: 1024px)":{whiteSpace:"nowrap"}}),fe=d.Z.div({position:"relative",gridColumn:"span 6 / span 6",gridColumnStart:"9",gridColumnEnd:"12",display:"flex",alignItems:"center",gap:"1rem"}),we=d.Z.p({"--tw-text-opacity":"1",color:"rgb(31 41 55 / var(--tw-text-opacity))"}),be=d.Z.div({position:"relative"}),ye=d.Z.div({borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))"}),je=(0,d.Z)(c.J.Button)({borderRadius:"1rem",":focus":{outline:"2px solid transparent",outlineOffset:"2px","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(83 126 220 / var(--tw-ring-opacity))","--tw-ring-offset-width":"2px"}}),Ze=d.Z.span({display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",borderRadius:"1rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(209 213 219 / var(--tw-border-opacity))",paddingLeft:"2rem",paddingRight:"2rem",paddingTop:"1rem",paddingBottom:"1rem",fontSize:"1.4rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))","--tw-shadow":"0 1px 2px 0 rgb(0 0 0 / 0.05)","--tw-shadow-colored":"0 1px 2px 0 var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms",":hover":{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":focus":{outline:"2px solid transparent",outlineOffset:"2px","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(83 126 220 / var(--tw-ring-opacity))","--tw-ring-offset-width":"2px"}}),Ce=(0,d.Z)(c.J.Panel)({position:"absolute",left:"-68px",top:"5rem",zIndex:"30","@media (min-width: 500px)":{left:"0px",right:"auto","--tw-translate-x":"0px",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-translate-y":"0px"},"@media (min-width: 1024px)":{left:"auto",right:"0px"}}),Se=d.Z.div({display:"flex",flexDirection:"column",gap:"1rem"}),Ie=(0,d.Z)(F.Z)({height:"100%",width:"100%"}),De=(0,d.Z)(y)({position:"absolute",left:"50%",top:"50%",height:"7rem",width:"7rem","--tw-translate-x":"-50%",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-translate-y":"-50%","--tw-text-opacity":"1",color:"rgb(229 231 235 / var(--tw-text-opacity))",opacity:"0.8"}),ke=d.Z.div({marginTop:"1rem"}),Te=(0,d.Z)(A.bi)({paddingTop:"0.875rem",paddingBottom:"0.875rem",paddingLeft:"1rem",paddingRight:"0.75rem",textAlign:"left",fontSize:"1.4rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(17 24 39 / var(--tw-text-opacity))","@media (min-width: 640px)":{paddingLeft:"1.5rem"}}),Re=d.Z.div({display:"flex",gap:"1.5rem"}),Ne=d.Z.span({position:"relative",display:"flex",width:"max-content",flexShrink:"0",alignItems:"flex-start",gap:"0.25rem",whiteSpace:"normal",fontSize:"1.4rem"}),Pe=d.Z.img({position:"relative",display:"block",height:"2.5rem",width:"2.5rem"})},22469:function(e,t,r){r.d(t,{Z:function(){return O}});var i=r(74165),o=r(4942),n=r(1413),a=r(15861),l=r(29439),s=r(43681),d=r(47012),c=r(47313),u=r(58467),p=r(60199),h=r(40290),m=r(58222),g=r(22872),v=r(23305),x=r(72159),f=r(90628),w=r(20388),b=r(13797),y=r(58500),j=r(72363),Z=r(82466),C=r(26121),S=r(81517),I=r(60106),D=r(92109),k=r(92755),T=r(25067),R=r(58229),N=r(14105),P=r(11360),L=r(46417);function O(e){var t,r,s,h,m,g,b,j,Z,I,k,T=e.existingStudent,N=e.profileImg,O=e.action,B=void 0===O?"/teacher/manage-users/add-student":O,E=e.confirmation,z=e.revalidate,U=(0,u.TH)().pathname.split("/")[1],W=(0,S.Av)(),M=(0,C.OG)(),V=("teacher"===U?W:M).teacher,q=B.includes("add-student"),H=null===T||void 0===T?void 0:T.archived,G=(0,c.useState)(),Y=(0,l.Z)(G,2),K=Y[0],J=Y[1],X=(0,c.useState)({firstName:null===T||void 0===T?void 0:T.firstName,lastName:null===T||void 0===T?void 0:T.lastName}),_=(0,l.Z)(X,2),ee=_[0],te=_[1],re=(0,c.useRef)(),ce=(0,c.useRef)(!1),ue=(0,c.useState)(!1),pe=(0,l.Z)(ue,2),he=pe[0],me=pe[1],ge=(0,c.useState)(!1),ve=(0,l.Z)(ge,2),xe=ve[0],fe=ve[1],we=(0,c.useState)(Object.fromEntries(["Math","Language Arts/Reading","Science","Social Studies"].map((function(e){return[crypto.randomUUID(),{subject:e}]})))),be=(0,l.Z)(we,2),ye=be[0],je=be[1],Ze=(0,u.s0)(),Ce=(0,D.Z)((function(e,t,r){switch(e){case"firstName":if(!t)return me(!0),fe(!1),{text:"Required",tooltip:"First name is required."};break;case"lastName":if(!t)return me(!0),fe(!1),{text:"Required",tooltip:"Last name is required."};break;case"gradeLevel":if(!t)return me(!0),fe(!1),{text:"Required",tooltip:"Grade level is required."};break;case"dob":if(!t)return me(!0),fe(!1),{text:"Required",tooltip:"Date of birth is required."};if((0,P.zL)(t).getTime()>=(new Date).setHours(0,0,0,0))return me(!0),fe(!1),{text:"Invalid",tooltip:"Date of birth must be before today."};break;case"email":if(!t)break;if(!(0,R.oP)(t))return me(!0),fe(!1),{text:"Invalid",tooltip:"Email is invalid."};break;case"schoolUserName":r.schoolUserName=t;break;case"schoolUserPassword":if(!t)break;if(t.length<6)return me(!0),fe(!1),{text:"Invalid",tooltip:"Password must be at least 6 characters."};r.schoolUserPassword=t}}),(function(e){var t=!0;return e.schoolUserPassword&&!e.schoolUserName&&(t=!1,Fe("schoolUserName","Username is required."),me(!0),fe(!1)),t})),Se=Ce.fetcher,Ie=Ce.errors,De=Ce.isDirty,ke=Ce.setIsDirty,Te=Ce.clearErrors,Re=Ce.checkError,Ne=Ce.handleSubmit,Pe=Ce.handleChange,Le=Ce.handleFocus,Oe=Ce.handleBlur,Fe=Ce.setError;function Ae(e){return Be.apply(this,arguments)}function Be(){return(Be=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,(0,R.yo)(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1),E&&(E.current="Leave without saving image?"),ce.current=!1;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){if("idle"===Se.state&&Se.data){var e=Se.data.studentRes;e&&(q?(Array.from(re.current.getElementsByTagName("input")).forEach((function(e){return e.value=""})),J(null),je(Object.fromEntries(["Math","Language Arts/Reading","Science","Social Studies"].map((function(e){return[crypto.randomUUID(),{subject:e}]})))),te({}),Ze("?modal=student/details&acellusID=".concat(e.acellusID,"&tab=profile"))):ce.current?(ce.current=!1,p.Z.deleteProfileImg(T.acellusID).catch((function(){return me(!0)})).finally((function(){return fe(!1)})),z()):E.current&&(E.current=!1,z()),fe(!1))}}),[Se.state,Se.data,B,Ze,z,null===T||void 0===T?void 0:T.acellusID,E,q,De]);var Ee=function(){J(),E&&(E.current=!1),N&&(ce.current=!0)},ze=function(e){Pe(e),te((function(t){return(0,n.Z)((0,n.Z)({},t),{},(0,o.Z)({},e.target.name,e.target.value))})),ke(!0)},Ue=function(e,t,r){"gradeLevel"===r&&te((function(e){return(0,n.Z)((0,n.Z)({},e),{},{dob:null})})),te((function(t){return(0,n.Z)((0,n.Z)({},t),{},(0,o.Z)({},r,e))})),Te(r),ke(!0)},We=function(e,t,r){return Te(r)},Me=function(e,t,r){return Re(r,t)};return(0,L.jsxs)(Se.Form,{method:"post",action:B,onSubmit:function(e){if(!De)return fe(!1),me(!0),void e.preventDefault();fe(!0),me(!1),Ne(e)},ref:re,children:[(0,L.jsx)("input",{type:"hidden",value:K,name:"profileImg",disabled:H}),T&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("input",{type:"hidden",name:"firstName",value:T.firstName}),(0,L.jsx)("input",{type:"hidden",name:"middleName",value:T.middleName}),(0,L.jsx)("input",{type:"hidden",name:"lastName",value:T.lastName})]}),(0,L.jsxs)(ne,{children:[(0,L.jsxs)(ae,{children:[(0,L.jsx)(ie,{children:"Photo"}),(0,L.jsx)(oe,{children:(0,L.jsx)(d.J,{as:"div",children:function(e){var t=e.close;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(f.Z,{name:(0,R.Pp)(ee),customStyles:se,avatarStyles:de,url:K||(ce.current?"":N),acellusID:!N&&(null===T||void 0===T?void 0:T.acellusID)}),!H&&(0,L.jsx)(v.Z,{uploadImage:Ae,deleteImage:Ee,close:t,buttonColor:"teacherBlue",buttonColorNum:500})]})}})})]}),(0,L.jsxs)(le,{"data-testid":"form-wrapper",children:[(0,L.jsx)(y.OH,{children:(0,L.jsx)(x.II,{type:"text",labelText:"First Name",placeholder:"First Name",name:T?void 0:"firstName",onChange:ze,error:null===(t=Ie.firstName)||void 0===t?void 0:t.text,errorTooltip:null===(r=Ie.firstName)||void 0===r?void 0:r.tooltip,disabled:!!T||H,defaultValue:null===T||void 0===T?void 0:T.firstName,onBlur:Oe,onFocus:Le})}),(0,L.jsx)(y.OH,{children:(0,L.jsx)(x.II,{type:"text",labelText:"Middle Name",placeholder:"Middle Name",name:T?void 0:"middleName",disabled:!!T||H,defaultValue:null===T||void 0===T?void 0:T.middleName,onBlur:Oe,onFocus:Le})}),(0,L.jsx)(y.OH,{children:(0,L.jsx)(x.II,{type:"text",labelText:"Last Name",placeholder:"Last Name",name:T?void 0:"lastName",onChange:ze,error:null===(s=Ie.lastName)||void 0===s?void 0:s.text,errorTooltip:null===(h=Ie.lastName)||void 0===h?void 0:h.tooltip,disabled:!!T||H,onBlur:Oe,onFocus:Le,defaultValue:null===T||void 0===T?void 0:T.lastName})}),(0,L.jsx)(y.OH,{children:(0,L.jsx)(w.Z,{name:"gradeLevel","data-testid":"form-select",selected:ee.gradeLevel||R.ny.find((function(e){return e.value===(null===T||void 0===T?void 0:T.gradeLevel)}))||"",data:R.ny,error:null===(m=Ie.gradeLevel)||void 0===m?void 0:m.text,errorTooltip:null===(g=Ie.gradeLevel)||void 0===g?void 0:g.tooltip,labelText:"Grade Level",placeholder:"Select a Grade Level",disabled:H,onChange:Ue,onOpen:We,onClose:Me,parentId:q?"root":"modal",fixed:!0,dropDownStyle:$})}),(0,L.jsx)(y.OH,{children:(0,L.jsx)(x.II,{type:"date",labelText:"Date of Birth",name:"dob",error:null===(b=Ie.dob)||void 0===b?void 0:b.text,errorTooltip:null===(j=Ie.dob)||void 0===j?void 0:j.tooltip,place:!0,disabled:H,onChange:function(e){if(Pe(e),!((0,P.zL)(e.target.value)>new Date)){var t=(0,R.TJ)(e.target.value),r=(0,R.Uf)(t);(null===T||void 0===T||!T.gradeLevel)&&null!==ee.dob&&t<101&&(te((function(e){return(0,n.Z)((0,n.Z)({},e),{},{gradeLevel:R.ny.find((function(e){return e.value===r}))})})),Te("gradeLevel")),ke(!0)}},min:"1913-01-01",max:(new Date).toISOString().split("T")[0],onBlur:Oe,onFocus:Le,defaultValue:null===T||void 0===T?void 0:T.dob})}),(0,L.jsx)(y.OH,{children:(0,L.jsx)(x.II,{type:"email",labelText:"Email",placeholder:"Email Address",name:"email",error:null===(Z=Ie.email)||void 0===Z?void 0:Z.text,errorTooltip:null===(I=Ie.email)||void 0===I?void 0:I.tooltip,disabled:H,onBlur:Oe,onFocus:Le,onChange:function(e){Pe(e),ke(!0)},defaultValue:null===T||void 0===T?void 0:T.email})})]})]}),T&&(0,L.jsx)(Q,{existingStudent:T,disabled:H,errors:Ie,onBlur:Oe,onFocus:Le,parentOrTeacher:U,handleAccountFormChange:function(){ke(!0)}}),(0,L.jsx)(F,{existingStudent:T,handleSelectChange:Ue,handleSelectOpen:We,handleSelectClose:Me,studentData:ee,disabled:H,isNewStudent:q}),!T&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(A,{courses:ye,setCourses:je,gradeLevel:null===(k=ee.gradeLevel)||void 0===k?void 0:k.value}),(0,L.jsx)("input",{type:"hidden",name:"courses",value:JSON.stringify(ye)}),(0,L.jsx)("input",{type:"hidden",name:"teacherID",value:null===V||void 0===V?void 0:V.acellusID})]}),!H&&(0,L.jsx)(y.ZL,{noBottomPadding:!0,error:he,isSubmitting:xe})]})}function F(e){var t=e.existingStudent,r=e.handleSelectChange,i=e.handleSelectOpen,o=e.handleSelectClose,n=e.studentData,a=e.disabled,l=e.isNewStudent;return(0,L.jsxs)(y.n5,{children:[(0,L.jsxs)(y.Yk,{children:[(0,L.jsx)(te,{children:"Statistical Data (Optional)"}),(0,L.jsx)("p",{children:"This information used for statistical data purposes."})]}),(0,L.jsx)(ee,{children:(0,L.jsx)(w.Z,{selected:n.nativeTongue||(0,R.G3)((null===t||void 0===t?void 0:t.nativeTongue)||0),name:"nativeTongue",labelText:"Language","data-testid":"form-select",data:R.lI,dropDownStyle:$,onOpen:i,onClose:o,disabled:a,onChange:r,parentId:l?"root":"modal",fixed:!0})}),(0,L.jsx)(ee,{children:(0,L.jsx)(w.Z,{selected:n.economicStatus||(0,R.XT)((null===t||void 0===t?void 0:t.economicStatus)||0),name:"economicStatus",labelText:"Economic Status","data-testid":"form-select",data:R.xi,dropDownStyle:$,onOpen:i,onClose:o,disabled:a,onChange:r,parentId:l?"root":"modal",fixed:!0})}),(0,L.jsx)(ee,{children:(0,L.jsx)(w.Z,{selected:n.ethnicity||(0,R.NE)((null===t||void 0===t?void 0:t.ethnicity)||0),name:"ethnicity",labelText:"Ethnicity","data-testid":"form-select",data:R.Vy,dropDownStyle:$,onOpen:i,onClose:o,disabled:a,onChange:r,parentId:l?"root":"modal",fixed:!0})}),(0,L.jsx)(y.F4,{children:(0,L.jsx)(w.Z,{selected:n.educationProgram||(0,R.x)((null===t||void 0===t?void 0:t.educationProgram)||0),name:"educationProgram",labelText:"Education Program","data-testid":"form-select",data:R.Hq,dropDownStyle:$,onOpen:i,onClose:o,disabled:a,onChange:r,parentId:l?"root":"modal",fixed:!0})})]})}function A(e){var t=e.courses,r=e.setCourses,i=e.gradeLevel,a=(0,c.useState)(),s=(0,l.Z)(a,2),d=s[0],u=s[1],p=(0,I.Z)("lg"),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r((function(r){return(0,n.Z)((0,n.Z)({},r),{},(0,o.Z)({},e,(0,n.Z)((0,n.Z)({},r[e]),t)))}))},m=function(){r((function(e){return(0,n.Z)((0,n.Z)({},e),{},(0,o.Z)({},crypto.randomUUID(),{}))}))},g=(0,c.useCallback)((function(e){r((function(t){var r=Object.entries(t).filter((function(t){return t[0]!==e}));return Object.fromEntries(r)}))}),[r]);return(0,L.jsxs)(y.n5,{children:[(0,L.jsx)(y.Yk,{children:(0,L.jsx)(te,{children:"Select Courses"})}),p&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(y.nB,{children:(0,L.jsx)(B,{children:"Grade"})}),(0,L.jsx)(y.fY,{children:(0,L.jsx)(B,{children:"Subject"})}),(0,L.jsx)(y.F4,{children:(0,L.jsx)(B,{children:"Course"})})]}),Object.entries(t).map((function(e){var r=(0,l.Z)(e,2),o=r[0],a=r[1];return(0,L.jsx)(U,(0,n.Z)((0,n.Z)({courseKey:o},a),{},{gradeLevel:i,updateCourse:h,deleteCourse:g,courses:Object.entries(t),setShowCourseDetails:u}),o)})),(0,L.jsxs)(y.Yk,{children:[(0,L.jsx)(E,{type:"button",onClick:m,children:"+ Add Course"}),(0,L.jsx)(J,{children:(0,L.jsx)(j.Z,{color:"teacherBlue",colorNum:500,width:"100%",onClick:m,children:"+ Add Course"})})]}),d&&(0,L.jsx)(Z.ZP,{title:"Course Details",noPaddingX:!0,onClose:function(){return u(!1)},bgColor:{"--tw-bg-opacity":"1",backgroundColor:"rgb(242 246 253 / var(--tw-bg-opacity))"},headerStyles:{"--tw-border-opacity":"1",borderColor:"rgb(242 246 253 / var(--tw-border-opacity))",backgroundColor:"rgb(242 246 253 / 0.7)"},children:(0,L.jsx)(N.Z,{enrollment:{courses:Object.values(t)},showCourseDetails:d,setShowCourseDetails:u,updateCourse:h})})]})}var B=s.Z.p({display:"none","--tw-text-opacity":"1",color:"rgb(31 41 55 / var(--tw-text-opacity))","@media (min-width: 1024px)":{display:"block"}}),E=s.Z.button({display:"none","@media (min-width: 1024px)":{marginTop:"2rem",display:"flex",borderRadius:"0.5rem",fontSize:"1.4rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(83 126 220 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",":hover":{"--tw-text-opacity":"1",color:"rgb(119 154 228 / var(--tw-text-opacity))"}}}),z=[{name:"All",value:""},{name:"P",value:"P"},{name:"K",value:"K"},{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"},{name:"6",value:"6"},{name:"7",value:"7"},{name:"8",value:"8"},{name:"9",value:"9"},{name:"10",value:"10"},{name:"11",value:"11"},{name:"12+",value:"12"}];function U(e){var t=e.courseKey,r=e.courseName,i=e.courses,o=e.deleteCourse,n=e.displayCourseID,a=e.gradeLevel,l=e.setShowCourseDetails,s=e.subject,d=e.updateCourse,c=(0,I.Z)("lg"),u=(0,k.Z)({courseKey:t,courseName:r,courses:i,deleteCourse:o,gradeLevel:a,subject:s}),p=u.adminLevel,h=u.gradeFilter,m=u.setGradeFilter,g=u.subjectFilter,v=u.setSubjectFilter,x=u.subjects,f=u.query,y=u.setQuery,Z=u.loading,C=u.showResults,S=u.setShowResults,D=u.search,T=u.filteredResults;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(W,{children:(0,L.jsx)(w.Z,{labelText:c?null:"Grade",data:z,selected:z.find((function(e){return e.value===(h||(["13","U","O"].includes(a)?"12":a))})),defaultSelected:z[0],onChange:function(e){return m(e.value)}})}),(0,L.jsx)(M,{children:(0,L.jsx)(w.Z,{labelText:c?null:"Subject",selected:g||s,data:x,placeholder:"Select a Subject",onChange:function(e){return v(e)}})}),(0,L.jsxs)(V,{children:[(0,L.jsx)(b.ZP,{placeholder:"Select/Type a Course",labelText:c?null:"Course",onSearch:D,results:T,showResults:C,setShowResults:S,onSelection:function(e){return d(t,{displayCourseID:null===e||void 0===e?void 0:e.displayCourseID,addMyself:1===p})},query:f||"",setQuery:y,loading:Z,format:"course",autocomplete:!0,z:50,onFocus:function(){return S(!0)},onBlur:function(){return S(!1)},selectedItemIcon:(0,L.jsx)(q,{type:"button",onClick:function(){return l({courseKey:t,displayCourseID:n})},"aria-label":"Course Details","data-testid":"course-details","data-tooltip":"title",visible:n,children:(0,L.jsx)(Y,{"aria-hidden":"true"})})}),(0,L.jsx)(H,{type:"button",onClick:function(){return o(t)},"aria-label":"Delete Row","data-testid":"delete-course","data-tooltip":"title",children:(0,L.jsx)(G,{"aria-hidden":"true"})})]}),(0,L.jsx)(K,{children:(0,L.jsx)(j.Z,{color:"red",colorNum:500,width:"100%",onClick:function(){return o(t)},children:"Remove Course"})}),(0,L.jsx)(X,{})]})}var W=s.Z.div({gridColumn:"span 12 / span 12","@media (min-width: 1024px)":{gridColumn:"span 2 / span 2"}}),M=s.Z.div({gridColumn:"span 12 / span 12","@media (min-width: 1024px)":{gridColumn:"span 4 / span 4"}}),V=s.Z.div({position:"relative",gridColumn:"span 12 / span 12",display:"flex",flexDirection:"row",gap:"1rem","@media (min-width: 1024px)":{gridColumn:"span 6 / span 6"}}),q=s.Z.button((function(e){return[{display:"none","--tw-text-opacity":"1",color:"rgb(163 163 163 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":hover":{"--tw-text-opacity":"1",color:"rgb(209 213 219 / var(--tw-text-opacity))",transitionDuration:"300ms"}},e.visible&&{display:"block","@keyframes fadeIn":{"0%":{opacity:"0"},"100%":{opacity:"1"}},animation:"fadeIn 0.5s ease-in",transitionDuration:"75ms"}]})),H=s.Z.button({display:"none",":hover":{"--tw-text-opacity":"1",color:"rgb(220 38 38 / var(--tw-text-opacity))"},"@media (min-width: 1024px)":{gridColumn:"span 2 / span 2",marginLeft:".6rem",display:"block","--tw-text-opacity":"1",color:"rgb(239 68 68 / var(--tw-text-opacity))",transitionDuration:"300ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"@media (min-width: 1280px)":{marginLeft:"0px"}}),G=(0,s.Z)(g.r)({width:"2.5rem"}),Y=(0,s.Z)(m.r)({height:"1.75rem",width:"1.75rem","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}),K=s.Z.div({gridColumn:"span 12 / span 12",paddingBottom:"2rem","@media (min-width: 1024px)":{display:"none"}}),J=(0,s.Z)(K)({paddingBottom:"0px"}),X=s.Z.hr({gridColumn:"span 12 / span 12",display:"flex",width:"100%","@media (min-width: 1024px)":{display:"none"}});function Q(e){var t,r,o,n,s=e.existingStudent,d=e.disabled,u=e.errors,p=e.onBlur,m=e.onFocus,g=e.parentOrTeacher,v=e.handleAccountFormChange,f=(0,S.Av)(),w=(0,C.OG)(),b=("teacher"===g?f:w).teacher,j=(0,c.useState)(!1),Z=(0,l.Z)(j,2),I=Z[0],D=Z[1],k=(0,c.useState)((null===s||void 0===s?void 0:s.password)||""),R=(0,l.Z)(k,2),N=R[0],P=R[1];function O(){return(O=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.post({acellusID:null===s||void 0===s?void 0:s.acellusID,regeneratePassword:!0});case 2:if(t=e.sent,!(0,T.isErrorResponse)(t)){e.next=5;break}return e.abrupt("return",toast.error("Error generating new password."));case 5:P(t.password);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,L.jsxs)(y.n5,{"data-testid":"account-wrapper",children:[(0,L.jsxs)(y.Yk,{children:[(0,L.jsx)(te,{children:"Account"}),(0,L.jsx)("p",{children:"This is your Acellus account information."})]}),(0,L.jsx)(ee,{children:(0,L.jsx)(x.II,{type:"number",labelText:"Acellus ID",value:(null===s||void 0===s?void 0:s.acellusID)||"",disabled:!0})}),(0,L.jsxs)(ee,{children:[(0,L.jsx)(x.II,{type:"text",labelText:"Password",customStyles:{paddingRight:"18rem"},value:N,disabled:!0}),(0,L.jsx)(re,{type:"button",onClick:function(){!function(){O.apply(this,arguments)}(),v()},disabled:d,children:"Regenerate Password"})]}),"teacher"===g&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ee,{children:(0,L.jsx)(x.II,{type:"number",labelText:"School ID",value:b.schoolID,disabled:!0})}),(0,L.jsxs)(_,{children:[(0,L.jsx)(x.II,{type:"text",labelText:"Assigned Username",name:"schoolUserName",placeholder:"Username",customStyles:{paddingRight:"12rem"},defaultValue:(null===s||void 0===s?void 0:s.schoolUserName)||"",disabled:d,error:null===(t=u.schoolUserName)||void 0===t?void 0:t.text,errorTooltip:null===(r=u.schoolUserName)||void 0===r?void 0:r.tooltip,onBlur:p,onFocus:m,onChange:v}),I?(0,L.jsx)(x.II,{type:"text",labelText:"Assigned Password",name:"schoolUserPassword",placeholder:"Password",error:null===(o=u.schoolUserPassword)||void 0===o?void 0:o.text,errorTooltip:null===(n=u.schoolUserPassword)||void 0===n?void 0:n.tooltip,onBlur:p,onFocus:m,onChange:v}):(0,L.jsx)(re,{type:"button",onClick:function(){return D(!0)},disabled:d,children:"Add Password"})]})]})]})}var $={zIndex:"50"},_=s.Z.div({position:"relative",gridColumn:"span 12 / span 12",marginTop:"auto",marginBottom:"auto",display:"flex",flexDirection:"column",gap:"0.5rem","@media (min-width: 1024px)":{gridColumn:"span 6 / span 6",flexDirection:"row"}}),ee=s.Z.div({position:"relative",gridColumn:"span 12 / span 12",marginTop:"auto",marginBottom:"auto","@media (min-width: 1024px)":{gridColumn:"span 6 / span 6"}}),te=s.Z.h3({paddingTop:"2rem"}),re=s.Z.button({position:"absolute",right:"0px",top:"3.25rem",display:"flex",whiteSpace:"nowrap",borderRadius:"0.5rem",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",fontSize:"1.4rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(55 106 215 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",":hover":{"--tw-text-opacity":"1",color:"rgb(119 154 228 / var(--tw-text-opacity))"},":disabled":{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"},":disabled:hover":{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}}),ie=s.Z.label({display:"block",fontSize:"1.4rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgb(17 24 39 / var(--tw-text-opacity))"}),oe=s.Z.div({position:"relative",zIndex:"10",marginLeft:"auto",marginRight:"auto",display:"flex",width:"fit-content","@media (min-width: 768px)":{marginLeft:"0px",marginRight:"0px"}}),ne=s.Z.div({position:"relative",zIndex:"10",display:"flex",maxWidth:"150rem",flexDirection:"column",alignItems:"center",gap:"2.5rem",borderBottomWidth:"1px","@media (min-width: 1280px)":{flexDirection:"row"}}),ae=s.Z.div({gridColumn:"span 12 / span 12",marginTop:"2.5rem",display:"block",flexDirection:"column","@media (min-width: 1024px)":{gridRow:"span 2 / span 2",display:"flex"},"@media (min-width: 1280px)":{marginTop:"0px"}}),le=(0,s.Z)(y.n5)({borderWidth:"0px"}),se={height:"14rem",width:"14rem"},de={borderStyle:"none"}}}]);