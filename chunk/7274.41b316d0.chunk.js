"use strict";(self.webpackChunkacellus=self.webpackChunkacellus||[]).push([[7274],{2053:function(e,t,r){r.d(t,{r:function(){return d}});var i,n=r(47313),s=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u(e,t){var r=e.title,u=e.titleId,d=o(e,s);return n.createElement("svg",a({fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":u},d),r?n.createElement("title",{id:u},r):null,i||(i=n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0l2.77-.693a9 9 0 016.208.682l.108.054a9 9 0 006.086.71l3.114-.732a48.524 48.524 0 01-.005-10.499l-3.11.732a9 9 0 01-6.085-.711l-.108-.054a9 9 0 00-6.208-.682L3 4.5M3 15V4.5"})))}var d=n.forwardRef(u);r.p},24751:function(e,t,r){r.d(t,{y:function(){return y},z:function(){return x}});var i=r(29439),n=r(43681),s=r(76109),a=r(25067),o=r(81517),u=r(46417),d=r(47313),l=d.useState,c=d.useEffect,h=r(2135),g=h.useFetcher,p=h.redirect,m=r(2084),b=m.settingData,f=m.courseSettings,v=m.testAllCourseSettings,j=r(78873).default;function x(e){var t=e.course,r=(e.updateCourseSettings,g()),n=l("Pending"),d=(0,i.Z)(n,2),h=d[0],p=d[1],m=l(!0),b=(0,i.Z)(m,2),x=b[0],y=b[1],S=(0,o.Av)().teacher;c((function(){s.Z.getEditStatus(t.courseID,"courseInfo",{}).then((function(e){(0,a.isErrorResponse)(e)?p("There was an error locking the Course Settings for this Course. This is in View-Only mode..."):e.lockedBy>0&&S.acellusID!==e.lockedBy?p("Someone else is editing the Course Settings ("+e.lockedBy+"). Try again later..."):s.Z.lockForEdit(t.courseID,"courseInfo",{}).then((function(e){(0,a.isErrorResponse)(e)?5===e.error?y(!1):p("There was an error locking this Course Settings for this Course.  This is in View-Only mode..."):e.alreadyLocked?p("Someone else is editing the Course Settings ("+e.lockedBy+"). This is in View-Only mode..."):p("")}))}))}),[]);if("pending"===h&&!0===x)return(0,u.jsx)(w,{children:h});var k=!1;h.length>1&&(k=!0);var O,D="/teacher/curriculum/course/"+t.displayCourseID;return!0===x?(0,u.jsxs)(w,{children:[h&&(0,u.jsx)(u.Fragment,{children:h}),(0,u.jsxs)(r.Form,{action:D,method:"post",onSubmit:function(e){var t=new FormData(e.target),r=Object.fromEntries(t.entries());console.log(r),v(r)||e.preventDefault()},children:[(0,u.jsx)("input",{type:"hidden",name:"courseID",value:t.courseID}),(0,u.jsx)("input",{type:"hidden",name:"active",value:!0}),(0,u.jsx)("input",{type:"hidden",name:"syllabusStepID",value:t.syllabusStepID}),(0,u.jsx)("input",{type:"hidden",name:"stepType",value:t.stepType}),(0,u.jsx)(C,{children:"Settings"}),f&&(null===(O=Object.entries(f))||void 0===O?void 0:O.map((function(e,r){return(0,u.jsx)(j,{settingData:e,setObj:t,disable:k},r)}))),!k&&(0,u.jsx)(Z,{type:"submit",children:"Save"})]})]}):void 0}function y(){var e=g(),t=l(!1),r=(0,i.Z)(t,2),n=r[0],s=r[1];c((function(){e.data&&(console.log(e.data),(0,a.isErrorResponse)(e.data)||p("/"+e.data.displayCourseID))}),[e.data]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Z,{onDoubleClick:function(){s(!n)},children:"New Course"}),n&&(0,u.jsx)(w,{children:(0,u.jsxs)(e.Form,{action:"/teacher/curriculum",method:"post",onSubmit:function(e){var t=new FormData(e.target),r=Object.fromEntries(t.entries());console.log(r)},children:[(0,u.jsx)("input",{type:"hidden",name:"active",value:!0}),(0,u.jsx)(j,{settingData:["courseName",b("courseName")],setObj:{},disable:!1}),(0,u.jsx)(j,{settingData:["description",b("description")],setObj:{},disable:!1}),(0,u.jsx)(j,{settingData:["ageRange",b("ageRange")],setObj:{},disable:!1}),(0,u.jsx)(j,{settingData:["subject",b("subject")],setObj:{},disable:!1}),(0,u.jsx)(j,{settingData:["courseNumber",b("courseNumber")],setObj:{},disable:!1}),(0,u.jsx)(Z,{type:"submit",children:"Save"})]})})]})}var w=n.Z.div({width:"66.666667%",borderRadius:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(253 230 138 / var(--tw-bg-opacity))",padding:"1rem"}),C=n.Z.div({gridColumn:"span 2 / span 2",fontSize:"1.6rem"}),Z=n.Z.button({margin:"0.75rem",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(245 158 11 / var(--tw-bg-opacity))",padding:"0.5rem","--tw-text-opacity":"1",color:"rgb(250 250 249 / var(--tw-text-opacity))"})},78873:function(e,t,r){r.r(t),r.d(t,{FlagIcon:function(){return g},default:function(){return h}});var i,n,s=r(30168),a=r(29439),o=r(43681),u=r(47313),d=r(2084),l=r(2053),c=r(46417);function h(e){var t=e.settingData,r=e.setObj,i=e.disable,n=e.onChange,s=(0,u.useState)(!1),o=(0,a.Z)(s,2),l=o[0],h=o[1],v="undefined"!==typeof i&&i,j=t[0],x=r[j],w=t[1];(0,u.useEffect)((function(){var e=(0,d.settingCheck)(x,w,w.required,r,[]);h(!e)}),[]);var C=function(e){var t=e.target.value,i=(0,d.settingCheck)(t,w,w.required,r,[]);h(!i),"undefined"!==typeof n&&n(t)};return"undefined"===typeof v||v||!0!==w.disable||(v=!0),(0,c.jsxs)(p,{children:[(0,c.jsx)(y,{title:w.instructions,children:w.label},"title"),(0,c.jsx)(g,{error:l},"flag"),["text","number"].includes(w.inputType)?(0,c.jsx)(m,{onChange:C,disabled:!0===v?"disabled":"",type:w.inputType,name:j,defaultValue:x},"input"):"select"===w.inputType?(0,c.jsx)(b,{onChange:C,disabled:!0===v?"disabled":"",name:j,defaultValue:x,children:w.availableData.map((function(e){var t=!1;return"undefined"!==typeof e.hide&&!0===e.hide&&(t=!0),e.id===x&&(t=!1),t?null:(0,c.jsx)("option",{value:e.id,children:e.name})}))},"select"):"checkbox"===w.inputType&&(0,c.jsx)(f,{type:"checkbox",onChange:C,disabled:!0===v?"disabled":"",name:j,checked:!0===x?"checked":""})]})}function g(e){var t=e.error;return(0,c.jsx)(v,{error:t,children:t?(0,c.jsx)(j,{}):(0,c.jsx)(x,{})})}var p=o.Z.div({display:"grid",width:"100%",gridTemplateColumns:"repeat(6, minmax(0, 1fr))",padding:"0.5rem"}),m=o.Z.input({gridColumn:"span 3 / span 3",width:"100%",borderRadius:"0.5rem"}),b=o.Z.select({gridColumn:"span 3 / span 3",width:"100%",borderRadius:"0.5rem"}),f=o.Z.input({height:"2rem",width:"2rem",borderRadius:"0.5rem"}),v=(o.Z.input({height:"2rem",width:"2rem",borderRadius:"0.5rem"}),o.Z.div({gridColumn:"span 3 / span 3",display:"flex",width:"100%"}),o.Z.div({marginLeft:"1rem",marginRight:"1rem",borderRadius:"9999px"})),j=(0,o.Z)(l.r)(i||(i=(0,s.Z)(["\n    ","\n"])),{bottom:"0.5rem",right:"0.75rem",float:"right",height:"2.5rem",width:"2.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(239 68 68 / var(--tw-text-opacity))"}),x=(0,o.Z)(l.r)(n||(n=(0,s.Z)(["\n    ","\n"])),{bottom:"0.5rem",right:"0.75rem",float:"right",height:"2.5rem",width:"2.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(16 185 129 / var(--tw-text-opacity))"}),y=o.Z.div({gridColumn:"span 2 / span 2",fontSize:"1.6rem"})},17274:function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});var i=r(29439),n=r(43681),s=r(47313),a=r(76109),o=r(2135),u=r(24751),d=(r(70969),r(46417));function l(){var e=(0,s.useState)([]),t=(0,i.Z)(e,2),r=t[0],n=t[1],o=(0,s.useState)({}),l=(0,i.Z)(o,2),g=l[0],m=l[1];if((0,s.useEffect)((function(){a.Z.getSubjects().then((function(e){if(!e.error){for(var t=["Language Arts/Reading","Math","Science","Social Studies"],r=0;r<e.subjects.length;r++)!t.includes(e.subjects[r])&&e.subjects[r]&&t.push(e.subjects[r]);n(t)}})),a.Z.getPublicationStats().then((function(e){e.error||(console.log(e),m(e.stats))}))}),[]),r.length>0)return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{stats:g}),(0,d.jsx)(u.y,{}),(0,d.jsx)(p,{children:null===r||void 0===r?void 0:r.map((function(e,t){return(0,d.jsx)(c,{subject:e,index:t},t)}))})]})}function c(e){var t=e.subject,r=(0,s.useState)([]),n=(0,i.Z)(r,2),o=n[0],u=n[1];if((0,s.useEffect)((function(){a.Z.get({subject:t,limit:500}).then((function(e){if(!e.error){var t=e.courses.filter((function(e){return!!e.active})).sort((function(e,t){return e.courseNumber<t.courseNumber?-1:e.courseNumber>t.courseNumber?1:0}));u(t)}}))}),[]),o.length>0)return(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{children:t}),(0,d.jsx)(m,{children:null===o||void 0===o?void 0:o.map((function(e,t){return(0,d.jsx)(y,{children:(0,d.jsx)(x,{to:"course/".concat(e.displayCourseID),"aria-label":e.courseName,children:e.courseName},e.displayCourseID)})}))})]})}function h(e){var t=e.stats;return(0,d.jsxs)(b,{children:[(0,d.jsx)(g,{stat:t.coursesPublished,title:"Courses Published"}),(0,d.jsx)(g,{stat:t.problemsPublished,title:"Problems Published"}),(0,d.jsx)(g,{stat:t.videosPublished,title:"Videos Published"}),(0,d.jsx)(g,{stat:t.audioPublished,title:"Audio Files Published"})]})}function g(e){var t=e.stat,r=e.title;return(0,d.jsxs)(f,{children:[(0,d.jsx)(v,{children:t}),(0,d.jsx)(j,{children:r})]})}var p=n.Z.div({margin:"1.25rem",display:"grid",height:"6rem",width:"100%",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"1.5rem"}),m=n.Z.div({height:"58dvh",width:"100%",overflow:"auto",borderRadius:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(229 229 229 / var(--tw-bg-opacity))",padding:"0.75rem"}),b=n.Z.div({margin:"2rem",display:"grid",height:"8rem",width:"100%",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:"0.5rem",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(214 211 209 / var(--tw-bg-opacity))",padding:"2.5rem"}),f=n.Z.div({width:"15rem"}),v=n.Z.h4({}),j=n.Z.h5({fontSize:"1.4rem"}),x=(0,n.Z)(o.Link)({"--tw-text-opacity":"1",color:"rgb(0 0 0 / var(--tw-text-opacity))"}),y=n.Z.div({width:"100%",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"0.75rem"})}}]);