/*! For license information please see 5658.fdf87c08.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkacellus=self.webpackChunkacellus||[]).push([[5658],{44505:function(e,t,r){r.d(t,{r:function(){return u}});var n,i=r(47313),o=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function s(e,t){var r=e.title,s=e.titleId,u=l(e,o);return i.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":s},u),r?i.createElement("title",{id:s},r):null,n||(n=i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})))}var u=i.forwardRef(s);r.p},80425:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(1413),i=r(29439),o=r(44925),a=r(47313),l=r(59350),s=r(46417),u=["children"];function d(e){var t=e.children,r=(0,o.Z)(e,u),d=(0,a.useState)(null),c=(0,i.Z)(d,2),p=c[0],f=c[1],m=(0,a.useCallback)((function(){return f(null)}),[]),v=(0,a.useCallback)((function(e,t){return f({title:t,path:e})}),[]),h=(0,a.useMemo)((function(){return(0,n.Z)({closeVideo:m,openVideo:v},r)}),[m,v,r]),g=(0,a.useMemo)((function(){return"function"===typeof t?t(h):a.Children.map(t,(function(e){return(0,a.isValidElement)(e)?(0,a.cloneElement)(e,h):e}))}),[t,h]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{setVideoPath:f,videoPath:null===p||void 0===p?void 0:p.path,title:null===p||void 0===p?void 0:p.title}),g]})}},31278:function(e,t,r){r.d(t,{Z:function(){return ct}});var n=r(30168),i=r(1413),o=r(29439),a=r(30686),l=r(43681),s=r(47313),u=r(58467),d=r(2135),c=r(2494),p=r(60199),f=r(15245),m=r(60106),v=r(73617),h=r(74165),g=r(15861),w=r(44925),x=r(99974),y=r(10165);var b=r(29079),C=r(79610),Z=r(58229),k=r(81517),j=r(17583),D=r(46417),I=["children"],S=(0,s.createContext)(null);function T(e){var t=e.children,r=function(e){var t,r=e.acellusID,n=e.monitor,a=e.alerts,l=e.freezeCard,u=e.unfreezeCard,d=e.updateMonitor,c=e.setMonitor,p=e.dispatch,m=e.profile,w=(0,k.Av)().teacher,D=(0,s.useState)(void 0),I=(0,o.Z)(D,2),S=I[0],T=I[1],M=(0,s.useState)(!1),R=(0,o.Z)(M,2),E=R[0],O=R[1],P=(0,s.useState)(!1),z=(0,o.Z)(P,2),N=z[0],A=z[1],W=(0,s.useState)(!1),L=(0,o.Z)(W,2),F=L[0],H=L[1],_=(0,s.useState)(null),V=(0,o.Z)(_,2),Y=V[0],B=V[1],X=(0,s.useState)(!1),K=(0,o.Z)(X,2),q=K[0],G=K[1],U=(0,s.useState)(!1),J=(0,o.Z)(U,2),Q=J[0],$=J[1],ee=(0,s.useState)(n.status),te=(0,o.Z)(ee,2),re=te[0],ne=te[1],ie=function(e){var t=(0,s.useState)(e),r=(0,o.Z)(t,2),n=r[0],i=r[1];return(0,s.useEffect)((function(){return i((function(t){return(0,v.Z)(t,e)?t:e}))}),[e]),n}(a[0]);(0,s.useEffect)((function(){return ne((function(e){return e.type!==n.status.type||e.handled!==n.status.handled||e.cancelled!==n.status.cancelled?n.status:e}))}),[n.status]);var oe=(0,b.ZP)().events,ae=(0,s.useContext)(f.ZP),le=ae.setConfettiActivated,se=ae.launchConfetti,ue=(0,s.useMemo)((function(){return{confetti:function(){var e=ke.current;clearTimeout(e.confetti),le(!0),se(),e.confetti=setTimeout(le,15e3,!1)},shake:function(){var e=ke.current;clearTimeout(e.shake),G(!0),e.shake=setTimeout(G,1500,!1)}}}),[se,le]),de=(0,s.useMemo)((function(){var e;return j.h9[null!==(e=n.status.type)&&void 0!==e?e:"None"]}),[null===n||void 0===n||null===(t=n.status)||void 0===t?void 0:t.type]),ce=(0,s.useCallback)((function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(be.current=e,t){var i={monitor:n,student:m,data:t};"function"===typeof t.content&&(t.content=t.content(i)),Array.isArray(t.content)&&(t.content=(0,Z.Li)(t.presetMessages=t.content)),"string"===typeof t.content&&(t.content=(0,Z.vO)(t.content,i)),"function"===typeof t.status&&(t.status=t.status(i))}E?(ye.current=t,O(!1)):(t&&B(t),O(!0)),Te.current=r}),[E,n,m]),pe=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];xe.current=e,E?O(!1):e&&(H(!1),B(null)),Te.current=t}),[E]),fe=(0,s.useCallback)((0,g.Z)((0,h.Z)().mark((function e(){var t,o,a,l,s,u,f,m,v,g,w,b,Z,k,j,D;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=Y.type,a=void 0===o?"message":o,l=Y.type,s=Y.video,u=Y.content,f=Y.interaction,m=Y.onSendMessage,v=Y.alert,g=Y.status,w=Y.displayCourseID,b=null===u||void 0===u?void 0:u.trim(),(0,C.Z)(b).trim()){e.next=6;break}return e.abrupt("return");case 6:return Z=r,k=(0,i.Z)({acellusID:r},Y),j={},D={},e.next=12,null===m||void 0===m?void 0:m(k,j,D);case 12:if(!1!==e.sent){e.next=15;break}return e.abrupt("return");case 15:if(oe){e.next=18;break}return toast.error("Unable to Send Message:\nNo Server Connection."),e.abrupt("return");case 18:if(null!==f&&void 0!==f&&!f){e.next=22;break}return e.next=21,y.Z.post({acellusID:r,message:b,logInteraction:!0,screen:l,video:s,displayCourseID:w});case 21:oe.emit(a,(0,i.Z)((0,i.Z)({},j),{},{to:Z,message:b,video:s}));case 22:if(null===(t=ue[a])||void 0===t||t.call(ue),oe.emit("student-message",(0,i.Z)((0,i.Z)({},D),{},{classId:w,toTeachers:!0,content:"string"===typeof u&&u,interaction:f,messageType:a,video:s,alert:v,status:g,acellusID:r})),D.monitor&&c(r,D.monitor),pe(!0),!v){e.next=38;break}return e.prev=27,e.next=30,x.Z.delete(v.alertID,r);case 30:p({type:"remove_alert",acellusID:r,alertID:v.alertID}),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(27),toast.error("Failed to clear action item.\n".concat(e.t0.message));case 36:e.next=39;break;case 38:g&&g.type===n.status.type&&d(r,{status:{handled:!0}});case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(0),toast.error("Failed to send message.\n".concat(e.t1.message));case 44:case"end":return e.stop()}}),e,null,[[0,41],[27,33]])}))),[Y,r,ue,oe,c,pe,n.status.type,d,p]),me=(0,s.useCallback)((0,g.Z)((0,h.Z)().mark((function e(){var t,o,a,l;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.alert,o=Y.status,a=Y.onCancelMessage,l=(0,i.Z)({acellusID:r},Y),e.next=4,null===a||void 0===a?void 0:a(l);case 4:if(!1!==e.sent){e.next=7;break}return e.abrupt("return");case 7:if(pe(!0),!t){e.next=20;break}return e.prev=9,e.next=12,x.Z.delete(t.alertID,r);case 12:p({type:"remove_alert",acellusID:r,alertID:t.alertID}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),toast.error("Failed to clear action item.\n".concat(e.t0.message));case 18:e.next=21;break;case 20:o&&o.type===n.status.type&&d(r,{status:{cancelled:!0}});case 21:case"end":return e.stop()}}),e,null,[[9,15]])}))),[Y,r,pe,n.status.type,d,p]),ve=(0,s.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=j.h9[null!==(e=n.status.type)&&void 0!==e?e:"None"];r&&ce(Ze.current,(0,i.Z)((0,i.Z)({},n),{},{status:re,auto:t},r.messageData),!t)}),[n,re,ce]),he=(0,s.useCallback)((function(){var e,t=Te.current;E?(H(!0),e=Ce.current):(u(r),xe.current&&B(null),ye.current&&(B(ye.current),O(!0),ye.current=null),e=be.current),t&&e&&setTimeout((function(){return e.focus()}),0),A(!1)}),[r,E,u]),ge=(0,s.useCallback)((function(){E?l(r):xe.current&&H(!1),A(!0)}),[r,E,l]),we=(0,s.useRef)(null),xe=(0,s.useRef)(!1),ye=(0,s.useRef)(null),be=(0,s.useRef)(null),Ce=(0,s.useRef)(null),Ze=(0,s.useRef)(void 0),ke=(0,s.useRef)({}),je=(0,s.useRef)(ve),De=(0,s.useRef)(ce),Ie=(0,s.useRef)(pe),Se=(0,s.useRef)(n),Te=(0,s.useRef)(!1);(0,s.useEffect)((function(){je.current=ve}),[ve]),(0,s.useEffect)((function(){De.current=ce}),[ce]),(0,s.useEffect)((function(){Ie.current=pe}),[pe]),(0,s.useEffect)((function(){Se.current=n}),[n]),(0,s.useEffect)((function(){var e,t=function(t){var n=t.from;t.to===w.acellusID&&n===r&&($(!0),clearTimeout(e),e=setTimeout($,2e3,!1))};return Array.prototype.forEach.bind([function(){return clearTimeout(e)},oe.on("apple",t)],(function(e){return e()}))}),[r,oe,w.acellusID]);var Me=(0,s.useRef)();(0,s.useEffect)((function(){if((null!==Y&&void 0!==Y&&Y.alert||null!==Y&&void 0!==Y&&Y.status)&&oe)return oe.on("student-message",function(){var e=(0,g.Z)((0,h.Z)().mark((function e(t){var n,o,a,l;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.acellusID,o=t.alert,a=t.status,l=t.monitor,n===r&&(o&&o.alertID===Y.alert.alertID||a&&a.type===Y.status.type)){e.next=3;break}return e.abrupt("return");case 3:console.log("@! Received Monitor:",r,Me.current=(0,i.Z)((0,i.Z)({},l),{},{status:(0,i.Z)((0,i.Z)({},null===l||void 0===l?void 0:l.status),{},{handled:!0})})),l?c(r,(0,i.Z)((0,i.Z)({},l),{},{status:(0,i.Z)((0,i.Z)({},null===l||void 0===l?void 0:l.status),{},{handled:!0})})):d(r,{status:{handled:!0}}),setTimeout(pe,0,!0,!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[r,pe,oe,null===Y||void 0===Y?void 0:Y.alert,null===Y||void 0===Y?void 0:Y.status,c,d]),console.groupCollapsed("@! Monitor Card",r),console.log("Actual:",n),console.log("Expected:",Me.current),console.groupEnd(),(0,s.useEffect)((function(){var e;if(!Y||Y.auto){if(ie){if((null===Y||void 0===Y?void 0:Y.alert)===ie)return;var t=j.pC[ie.meta.itemType];if(t)return De.current(null,(0,i.Z)((0,i.Z)({auto:!0,alert:ie},t.messageData),{},{timestamp:ie.timeStamp}))}if(!re.handled&&!re.cancelled&&(null===Y||void 0===Y?void 0:Y.status)!==re){var r=j.h9[null!==(e=re.type)&&void 0!==e?e:"None"];if(r){if("function"===typeof r.autoFlip?r.autoFlip({monitor:Se.current}):r.autoFlip)return je.current(!0);null!==Y&&void 0!==Y&&Y.status&&Ie.current(!0,!1)}}}}),[Y,ie,re]),(0,s.useEffect)((function(){var e=function(e){return function(t){t.stopPropagation(),"transform"===t.propertyName&&e()}};return Array.prototype.forEach.bind([(0,Z.Oo)("transitionstart",e(ge),!1,we.current),(0,Z.Oo)("transitionend",e(he),!1,we.current)],(function(e){return e()}))}),[ge,he]),(0,s.useEffect)((function(){if(N){var e=we.current,t=setInterval((function(){e.getAnimations().filter((function(e){return e instanceof window.CSSTransition&&"transform"===e.transitionProperty})).length||he()}),1e3);return function(){return clearInterval(t)}}}),[N,he]);var Re=(0,s.useMemo)((function(){return{flipping:N,flipped:E,setFlipped:O,flipperRef:we,showReturnArrow:F,messageData:Y,setMessageData:B,editMessage:ce,closeMessage:pe,minHeight:S,setMinHeight:T,shake:q,setShake:G,sendMessage:fe,cancelMessage:me,openStatusMessage:ve,tagRef:Ze,statusData:de,showApple:Q,focusRef:Ce}}),[N,E,F,Y,ce,pe,S,q,fe,me,ve,de,Q]);if((0,Z.L1)()){var Ee,Oe;console.log("@@",r,Re),(null!==(Oe=(Ee=window).cc)&&void 0!==Oe?Oe:Ee.cc={})[r]=Re}return Re}((0,w.Z)(e,I)),n=(0,s.useMemo)((function(){return"function"===typeof t?t(r):s.Children.map(t,(function(e){return(0,s.isValidElement)(e)?(0,s.cloneElement)(e,r):e}))}),[t,r]);return(0,D.jsx)(S.Provider,{value:r,children:n})}function M(){var e=(0,s.useContext)(S);if(!e)throw new Error("useLiveMonitorCardContext() can only be called within a LiveMonitorCardProvider.");return e}var R=r(58222),E=r(83484),O=r(75178),P=r(90628),z=r(51103),N=r(57830),A=r(70032),W=r(95843),L=r(52958);function F(e,t){var r=e.monitor,n=e.data,o=e.setData,a=e.scrollRef,l=e.visible,u=e.colors,d=e.onSubmit,c=(0,s.useCallback)((function(e){o((function(t){return(0,i.Z)((0,i.Z)({},t),{},{content:e.target.value})}))}),[o]),p=(0,s.useCallback)((function(e){"Enter"!==e.key||e.altKey||e.shiftKey||!e.ctrlKey||null===d||void 0===d||d()}),[d]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(Y,{children:(0,D.jsx)(W.ZP,{ref:t,disabled:!l,value:(null===n||void 0===n?void 0:n.content)||"",onChange:c,customStyles:[V,u.primaryText],placeholder:"Write a message...",onKeyDown:p})}),"video"===(null===n||void 0===n?void 0:n.type)&&(0,D.jsx)(B,{children:(0,D.jsx)(L.Z,{monitor:r,data:n,setData:o,scrollRef:a,colors:u})})]})}var H,_=(0,s.forwardRef)(F),V={minHeight:"100%",width:"100%",resize:"none",overflowY:"hidden",borderStyle:"none",backgroundColor:"transparent",padding:"0.75rem",fontSize:"1.3rem",outline:"2px solid transparent",outlineOffset:"2px",color:"inherit",":focus":{"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},"@media (min-width: 500px)":{padding:"0.5rem"},"& *":{fontSize:"1.3rem"},"@container liveMonitorCard (min-width: 28rem)":{"*":{fontSize:"1.4rem"}}},Y=l.Z.div({display:"flex",flex:"1 1 0%"}),B=l.Z.div({marginTop:"auto",display:"flex",justifyContent:"flex-end",padding:"1rem",paddingTop:"0px"}),X=r(35780),K=["title","titleId"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}function G(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function U(e,t){var r=e.title,n=e.titleId,i=G(e,K);return s.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",ref:t,"aria-labelledby":n},i),r?s.createElement("title",{id:n},r):null,H||(H=s.createElement("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"})))}var J,Q=s.forwardRef(U),$=(r.p,["title","titleId"]);function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(this,arguments)}function te(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function re(e,t){var r=e.title,n=e.titleId,i=te(e,$);return s.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":n},i),r?s.createElement("title",{id:n},r):null,J||(J=s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})))}var ne=s.forwardRef(re),ie=(r.p,r(97427)),oe=r(84721),ae=r(11946),le=r(73751),se=r(21109),ue=r(91838);function de(e){var t,r,n=e.visible,a=e.updateTooltip,l=e.monitor,u=e.openLiveSession,d=e.openCourseProgress,c=e.openReportCard,p=e.profile,m=e.acellusID,v=M(),h=v.showReturnArrow,g=v.editMessage,w=v.openStatusMessage,x=v.tagRef,y=v.statusData,b=v.showApple,C=(0,A.q7)(l.videoPath?"video":l.stepType),k=(0,s.useContext)(f.ZP).stickerRef,j=(0,s.useState)(0),I=(0,o.Z)(j,2),S=I[0],T=I[1],R=(0,s.useState)(0),E=(0,o.Z)(R,2),O=E[0],W=E[1];(0,s.useEffect)((function(){var e=l.goalsDoneToday&&l.goalCount?Math.floor(l.goalsDoneToday/l.goalCount*100):0,t=setTimeout((function(){T(l.percentCompleted),W(e)}),100);return function(){return clearTimeout(t)}}),[l]);var L=(0,s.useMemo)((function(){return[{children:(0,D.jsx)(Ie,{"aria-hidden":"true"}),"aria-label":"Live Video - Coming Soon",disabled:!0,onClick:function(){u(!1)}},{children:(0,D.jsx)(Se,{"aria-hidden":"true"}),"aria-label":"Live Chat - Coming Soon",disabled:!0,onClick:function(){u(!0)}},{children:(0,D.jsx)(Te,{"aria-hidden":"true"}),"aria-label":"Shake Screen",onClick:function(e){g(e.target,{type:"shake",displayCourseID:l.displayCourseID})}},{children:(0,D.jsx)(Me,{"aria-hidden":"true"}),"aria-label":"Fire Confetti",onClick:function(e){g(e.target,{type:"confetti",displayCourseID:l.displayCourseID})}},{children:(0,D.jsx)(Re,{"aria-hidden":"true"}),"aria-label":"View Videos",onClick:function(e){g(e.target,{type:"video",displayCourseID:l.displayCourseID,content:"<div>Hi ".concat(p.firstName,",</div><div>Take a look at this video.</div>")})}}]}),[u,g,l.displayCourseID,p.firstName]);return(0,D.jsxs)(ce,{visible:n,children:[(0,D.jsx)(pe,{showApple:b,"data-tooltip":!0,"aria-label":"".concat((0,Z.Pp)(p)," sent an apple.")}),(0,D.jsx)(z.D,{ref:function(e){return k.current[0]=e},customStyles:Pe}),(0,D.jsxs)(me,{children:[(0,D.jsx)(X.Z,{ref:x,onClick:null!==y&&void 0!==y&&y.messageData?function(){return w()}:void 0,student:p,monitor:l,updateTooltip:a,disabled:!n}),h&&(0,D.jsx)("button",{onClick:function(e){return g(e.currentTarget)},disabled:!n,"aria-label":"Flip Card","data-tooltip":"true",children:(0,D.jsx)(ye,{customStyles:ze,"aria-hidden":"true"})})]}),(0,D.jsxs)(ve,{children:[(0,D.jsxs)(fe,{children:[(0,D.jsxs)(he,{children:[(0,D.jsx)(P.Z,{acellusID:m,onClick:c,name:(0,Z.Pp)(p),customStyles:Oe,disabled:!n,percentage:O,progressWidth:5,birthday:p.birthday,progressTooltip:"".concat(null!==(t=l.goalsDoneToday)&&void 0!==t?t:0,"/").concat(null!==(r=l.goalCount)&&void 0!==r?r:0," Daily Goals Accomplished")}),!!l.currentStepNum&&(0,D.jsx)(ge,{onClick:function(){return d()},disabled:!n,"aria-label":"".concat(l.currentStepNum,". ").concat(l.stepTitle),"data-tooltip":"true",children:(0,D.jsx)("img",{alt:"".concat(l.currentStepNum,". ").concat(l.stepTitle),"aria-hidden":"true",src:C})})]}),(0,D.jsxs)(we,{children:[(0,D.jsx)(xe,{className:"tooltip-overflow","data-tooltip":"title","aria-label":(0,Z.Pp)(p),children:(0,Z.Pp)(p)}),(0,D.jsx)(be,{children:(0,D.jsx)(Ce,{className:"tooltip-overflow","data-tooltip":"title","aria-label":l.courseName,children:l.courseName||(0,D.jsx)("span",{className:"select-none",children:"\xa0"})})})]})]}),(0,D.jsxs)(Ze,{children:[(0,D.jsx)(ue.Z,{tooltipText:"".concat(l.currentStepNum-1," out of ").concat((0,N.bh)(l.stepsLeft+l.currentStepNum,"step")," completed."),progress:S,progressStyles:Ee,progressWrapperStyles:ke}),(0,D.jsx)(je,{children:L.map((function(e,t){return(0,D.jsx)(De,(0,i.Z)({disabled:!n,"data-tooltip":"true"},e),e["aria-label"]+t)}))})]})]})]})}var ce=l.Z.div((function(e){return[{position:"relative",display:"flex",height:"100%","--tw-rotate":"0deg",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",flexDirection:"column",gap:"0.5rem",overflow:"hidden",borderRadius:"1.5rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",padding:"1rem","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",backfaceVisibility:"hidden","@media (min-width: 640px)":{gap:"1rem"},"@media (min-width: 1024px)":{gap:"0.75rem"},"@media (min-width: 1536px)":{gap:"1rem"},"@media (min-width: 1750px)":{gap:"1.5rem"}},!e.visible&&{pointerEvents:"none"}]})),pe=(0,l.Z)(Q)((function(e){return[{position:"absolute",right:"0.75rem",top:"0.75rem",zIndex:"10",height:"3rem",width:"3rem",fill:"#fbbf24",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"},e.showApple?{"--tw-scale-x":"1","--tw-scale-y":"1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","@keyframes wrongAnswer":{"0%":{transform:"none"},"15%":{transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)"},"30%":{transform:"translate3d(4%, 0, 0) rotate3d(0, 0, 1, 0.8deg)"},"45%":{transform:"translate3d(-3%, 0, 0) rotate3d(0, 0, 1, -0.6deg)"},"60%":{transform:"translate3d(2%, 0, 0) rotate3d(0, 0, 1, 0.4deg)"},"75%":{transform:"translate3d(-1%, 0, 0) rotate3d(0, 0, 1, -0.2deg)"},"100%":{transform:"none"}},animation:"wrongAnswer 0.7s ease-in-out 1",opacity:"1"}:{"--tw-scale-x":"0","--tw-scale-y":"0",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",opacity:"0"}]})),fe=l.Z.div({display:"flex",width:"100%",flexDirection:"column",alignItems:"center",gap:"0.75rem","@media (min-width: 1280px)":{gap:"1rem"},"@media (min-width: 1750px)":{gap:"1.5rem"}}),me=l.Z.div({display:"flex",alignItems:"flex-start",justifyContent:"space-between"}),ve=l.Z.div({display:"flex",maxWidth:"100%",flex:"1 1 0%",flexDirection:"column",alignItems:"center",justifyContent:"space-between",gap:"1rem","@media (min-width: 1024px)":{gap:"0.75rem"},"@media (min-width: 1536px)":{gap:"1rem"}}),he=l.Z.div({position:"relative",width:"fit-content"}),ge=l.Z.button({position:"absolute",left:"-0.5rem",bottom:"0.25rem",aspectRatio:"1 / 1",width:"3rem",borderRadius:"9999px",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))",padding:"1px","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","@media (min-width: 1280px)":{left:"-1rem"}}),we=l.Z.div({display:"flex",width:"100%",flexDirection:"column"}),xe=l.Z.span({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"center",fontSize:"1.4rem",fontWeight:"800",lineHeight:"2rem","--tw-text-opacity":"1",color:"rgb(34 75 170 / var(--tw-text-opacity))","@container liveMonitorCard (min-width: 28rem)":{fontSize:"1.6rem"},"@media (min-width: 1750px)":{fontSize:"1.6rem"}}),ye=(0,l.Z)(ne)((function(e){return[{height:"1.25rem",width:"1.25rem",transform:"scaleY(-1)","@container liveMonitorCard (min-width: 28rem)":{height:"1.5rem",width:"1.5rem"}},e.customStyles]})),be=l.Z.div({display:"inline-flex",width:"100%",alignItems:"baseline",justifyContent:"center",gap:"0.5rem"}),Ce=l.Z.span({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"center",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(34 75 170 / var(--tw-text-opacity))","@container liveMonitorCard (min-width: 28rem)":{fontSize:"1.2rem"},"@media (min-width: 1750px)":{fontSize:"1.2rem"}}),Ze=l.Z.div({display:"flex",width:"100%",flexDirection:"column",gap:"1rem","@media (min-width: 1024px)":{gap:"0.75rem"},"@media (min-width: 1536px)":{gap:"1rem"}}),ke={height:"0.8rem","@container liveMonitorCard (min-width: 28rem)":{height:"1rem"}},je=l.Z.div({display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}),De=l.Z.button({display:"flex",aspectRatio:"1 / 1",alignItems:"center",justifyContent:"center",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(242 246 253 / var(--tw-bg-opacity))",padding:"0.75rem","--tw-text-opacity":"1",color:"rgb(34 75 170 / var(--tw-text-opacity))",transitionProperty:"color, background-color, border-color, text-decoration-color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":not(:disabled):hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(223 232 249 / var(--tw-bg-opacity))"}}),Ie=(0,l.Z)(se.r)({height:"1.5rem",width:"1.5rem",fill:"currentColor",strokeWidth:"2","@container liveMonitorCard (min-width: 28rem)":{height:"1.75rem",width:"1.75rem"}}),Se=(0,l.Z)(ae.r)({height:"1.5rem",width:"1.5rem",fill:"currentColor",strokeWidth:"2","@container liveMonitorCard (min-width: 28rem)":{height:"1.75rem",width:"1.75rem"}}),Te=(0,l.Z)(ie.r)({height:"1.5rem",width:"1.5rem",fill:"currentColor",strokeWidth:"2","@container liveMonitorCard (min-width: 28rem)":{height:"1.75rem",width:"1.75rem"}}),Me=(0,l.Z)(oe.r)({height:"1.5rem",width:"1.5rem",fill:"currentColor",strokeWidth:"2","@container liveMonitorCard (min-width: 28rem)":{height:"1.75rem",width:"1.75rem"}}),Re=(0,l.Z)(le.r)({height:"1.5rem",width:"1.5rem",fill:"currentColor",strokeWidth:"2","@container liveMonitorCard (min-width: 28rem)":{height:"1.75rem",width:"1.75rem"}}),Ee=((0,l.Z)(R.r)({height:"1rem",width:"1rem",flexShrink:"0",cursor:"pointer",strokeWidth:"2","--tw-text-opacity":"1",color:"rgb(34 75 170 / var(--tw-text-opacity))","@container liveMonitorCard (min-width: 28rem)":{height:"1.25rem",width:"1.25rem"},"@media (min-width: 1750px)":{height:"1.25rem",width:"1.25rem"}}),function(e){return[0===e.progress&&{transitionProperty:"none"},{backgroundColor:"rgb(55 106 215 / 0.75)"}]}),Oe={height:"9rem",width:"9rem","@media (min-width: 500px)":{height:"7rem",width:"7rem"},"@media (min-width: 1024px)":{height:"6rem",width:"6rem"},"@media (min-width: 1536px)":{height:"7rem",width:"7rem"},"@media (min-width: 1950px)":{height:"8rem",width:"8rem"}},Pe={inset:"0px",zIndex:"10",height:"125%",width:"125%","@media (min-width: 1024px)":{inset:"-25%",height:"150%",width:"150%"},"@media (min-width: 1950px)":{inset:"-50%",height:"200%",width:"200%"}},ze={color:"rgb(0 0 0 / 0.6)"},Ne=r(11360);function Ae(e){var t=e.timestamp,r=e.refreshTime,n=(0,s.useState)((function(){return(0,Ne.No)(t)})),i=(0,o.Z)(n,2),a=i[0],l=i[1];return(0,s.useEffect)((function(){var e=setInterval((function(){l((0,Ne.No)(t))}),r);return function(){return clearInterval(e)}}),[t,r]),(0,D.jsxs)(We,{children:[a," ago"]})}var We=l.Z.span({flex:"1 1 0%",whiteSpace:"nowrap",textAlign:"end",fontWeight:"500",opacity:"0.75","@container liveMonitorCard (min-width: 28rem)":{fontSize:"1.2rem"}});function Le(e){var t,r,n,a,l,u,d,c,p,m,v,w,x,y,b,k,I=e.visible,S=e.updateTooltip,T=e.monitor,R=e.openCourseProgress,E=e.openReportCard,W=e.profile,L=e.acellusID,F=M(),H=F.messageData,V=F.closeMessage,Y=F.focusRef,B=F.setMessageData,K=F.sendMessage,q=F.cancelMessage,G=(0,s.useContext)(f.ZP).stickerRef,U=(0,s.useRef)(void 0),J=(0,s.useState)(!1),Q=(0,o.Z)(J,2),$=Q[0],ee=Q[1],te=(0,s.useCallback)((0,g.Z)((0,h.Z)().mark((function e(){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),e.prev=1,e.next=4,K();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.prev=8,ee(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,6,8,11]])}))),[K]),re=null!==(t=null===H||void 0===H?void 0:H.displayCourseID)&&void 0!==t?t:T.displayCourseID,ne=null!==(r=null===H||void 0===H?void 0:H.assignmentID)&&void 0!==r?r:T.assignmentID,ie=null!==(n=null===H||void 0===H?void 0:H.courseName)&&void 0!==n?n:T.courseName,oe=null!==(a=null===H||void 0===H?void 0:H.currentStepNum)&&void 0!==a?a:T.currentStepNum,ae=null!==(l=null===H||void 0===H?void 0:H.stepTitle)&&void 0!==l?l:T.stepTitle,le=j.z2[!(null!==H&&void 0!==H&&null!==(u=H.status)&&void 0!==u&&u.handled)&&(null===H||void 0===H||null===(d=H.status)||void 0===d?void 0:d.color)||"white"],se=(0,A.q7)(T.videoPath?"video":T.stepType),ue=null!==H&&void 0!==H&&H.type?"video"===(null===H||void 0===H?void 0:H.type)?"Send Video":"shake"===(null===H||void 0===H?void 0:H.type)?(0,D.jsxs)(D.Fragment,{children:["Inactive"===(null===H||void 0===H||null===(c=H.status)||void 0===c?void 0:c.type)&&(0,D.jsx)("span",{children:"Send"})," ",(0,D.jsx)("span",{children:"Shake Screen"})]}):"Send ".concat((0,N.kC)(null===H||void 0===H?void 0:H.type)):"Send",de=(0,s.useState)(0),ce=(0,o.Z)(de,2),pe=ce[0],fe=ce[1];(0,s.useEffect)((function(){var e=T.goalsDoneToday&&T.goalCount?Math.floor(T.goalsDoneToday/T.goalCount*100):0,t=setTimeout((function(){return fe(e)}),100);return function(){return clearTimeout(t)}}),[T]);var me=(0,s.useCallback)((function(){B((function(e){return(0,i.Z)((0,i.Z)({},e),{},{content:(0,Z.vO)((0,Z.Li)(e.presetMessages),{monitor:T,student:W,data:e})})}))}),[T,W,B]),ve=(0,s.useMemo)((function(){var e="video"!==(null===H||void 0===H?void 0:H.type)||null!=(null===H||void 0===H?void 0:H.video),t=!!(0,C.Z)(null===H||void 0===H?void 0:H.content).trim();return I&&e&&t}),[null===H||void 0===H?void 0:H.content,null===H||void 0===H?void 0:H.type,null===H||void 0===H?void 0:H.video,I]);return(0,D.jsxs)(He,{visible:I,color:[le.background,le.border],children:[(0,D.jsx)(z.D,{ref:function(e){return G.current[1]=e},customStyles:ot}),(0,D.jsx)(_e,{children:(0,D.jsxs)(Ve,{children:[(0,D.jsxs)(Ye,{children:[(0,D.jsx)(P.Z,{acellusID:L,name:(0,Z.Pp)(W),progressStyles:[at,le.progressColor],customStyles:[lt,le.avatar],percentage:pe,onClick:E,disabled:!I,progressWidth:5,solidProgress:!le.progressColor,birthday:W.birthday,avatarStyles:[st,le.avatarBorder]}),!!oe&&(0,D.jsx)(Be,{disabled:!I,color:le.primary,onClick:function(){return R(re,ne)},"aria-label":"".concat(oe,". ").concat(ae),"data-tooltip":"true",children:(0,D.jsx)("img",{alt:"".concat(oe,". ").concat(ae),"aria-hidden":"true",src:se})})]}),(0,D.jsxs)(Xe,{children:[(0,D.jsxs)(Ke,{children:[(0,D.jsx)(qe,{textColor:le.primaryText,children:(0,Z.Pp)(W)}),(0,D.jsx)("button",{disabled:!I,onClick:function(){return V()},"aria-label":"Flip Card","data-tooltip":"true",children:(0,D.jsx)(ye,{customStyles:le.arrowColor||le.courseText,"aria-hidden":"true"})})]}),(0,D.jsx)(Ge,{children:(0,D.jsx)(Ue,{className:"tooltip-overflow",textColor:le.courseText,"data-tooltip":"true","aria-label":ie,children:ie||(0,D.jsx)("span",{className:"select-none",children:"\xa0"})})})]})]})}),(0,D.jsxs)(Je,{textColor:le.primaryText,children:[(0,D.jsx)(X.Z,{flipped:!0,monitor:T,student:W,updateTooltip:S,status:null===H||void 0===H?void 0:H.status,transparent:!(null===H||void 0===H||!H.status)&&!(null!==H&&void 0!==H&&null!==(p=H.status)&&void 0!==p&&p.handled)}),(0,D.jsx)(Ae,{timestamp:null!==(m=null!==(v=null===H||void 0===H?void 0:H.timestamp)&&void 0!==v?v:null===(w=T.status)||void 0===w?void 0:w.timestamp)&&void 0!==m?m:T.lastActivity,refreshTime:1e3})]}),null===(x=null===H||void 0===H?void 0:H.editable)||void 0===x||x?(0,D.jsx)(Qe,{tabIndex:-1,ref:U,color:le.primaryTransparent||le.primary,children:(0,D.jsx)(_,{ref:Y,scrollRef:U,monitor:T,data:H,setData:B,visible:I,colors:le,onSubmit:function(){return!$&&ve&&te()}})}):(0,D.jsx)($e,{children:null===H||void 0===H?void 0:H.content}),(0,D.jsxs)(et,{children:[!1!==(null===H||void 0===H?void 0:H.sendMessage)&&(0,D.jsx)(nt,{callToAction:le.callToActionButton||le.secondary,disabled:!ve||$,grayscale:!ve,color:le.button,onClick:te,whiteCard:!(null!==H&&void 0!==H&&null!==(y=H.status)&&void 0!==y&&y.color),children:$?(0,D.jsx)(O.Z,{customStyles:[ut,le.spinner]}):(0,D.jsx)(it,{status:null===H||void 0===H||null===(b=H.status)||void 0===b?void 0:b.type,textColor:le.primaryText,children:(null===H||void 0===H?void 0:H.sendMessage)||ue})}),!1!==(null===H||void 0===H?void 0:H.cancelMessage)&&(0,D.jsx)(nt,{color:le.button,disabled:!I||$,grayscale:!I,onClick:q,children:(0,D.jsx)(it,{textColor:le.primaryText,children:(null===H||void 0===H?void 0:H.cancelMessage)||"Cancel"})}),(null===H||void 0===H||null===(k=H.presetMessages)||void 0===k?void 0:k.length)&&(0,D.jsx)(rt,{onClick:me,disabled:!I||$,grayscale:!I,color:[le.button,le.primaryText],"aria-label":"Regenerate Message","data-tooltip":!0,children:(0,D.jsx)(tt,{"aria-hidden":!0})})]})]})}var Fe,He=l.Z.div((function(e){return[{position:"absolute",display:"flex",height:"fit-content",minHeight:"25rem",width:"100%",flexDirection:"column",gap:"1rem",overflow:"hidden",borderRadius:"1.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",padding:"1rem","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",backfaceVisibility:"hidden",transform:"rotateY(180deg) rotateX(0deg)","@media (min-width: 500px)":{height:"100%",maxHeight:"100%",minHeight:"0px"},"@media (min-width: 1024px)":{gap:"0.75rem"},"@media (min-width: 1536px)":{gap:"1rem"}},!e.visible&&{pointerEvents:"none"},e.color]})),_e=l.Z.div({display:"flex",maxWidth:"100%",alignItems:"flex-start",justifyContent:"space-between"}),Ve=l.Z.div({display:"flex",width:"0px",maxWidth:"100%",flex:"1 1 0%",gap:"1rem"}),Ye=l.Z.div({position:"relative"}),Be=l.Z.button((function(e){return[{position:"absolute",bottom:"-0.25rem",left:"-0.25rem",aspectRatio:"1 / 1",width:"50%",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},e.color]})),Xe=l.Z.div({display:"flex",width:"100%",minWidth:"0px",maxWidth:"100%",flexDirection:"column",justifyContent:"center"}),Ke=l.Z.div({display:"flex",width:"100%",justifyContent:"space-between",gap:"0.25rem"}),qe=l.Z.span((function(e){return[{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"1.4rem",fontWeight:"700",lineHeight:"1.5rem",color:"inherit","@container liveMonitorCard (min-width: 28rem)":{fontSize:"1.6rem",lineHeight:"1.75rem"}},e.textColor]})),Ge=l.Z.div({display:"flex",width:"100%",alignItems:"center",gap:"0.25rem"}),Ue=l.Z.span((function(e){return[{minWidth:"0px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"1rem",fontWeight:"500",lineHeight:"1.5rem","@container liveMonitorCard (min-width: 28rem)":{fontSize:"1.2rem",lineHeight:"1.75rem"}},e.textColor]})),Je=((0,l.Z)(R.r)((function(e){return[{height:"1rem",width:"1rem",flexShrink:"0",cursor:"pointer","@container liveMonitorCard (min-width: 28rem)":{height:"1.25rem",width:"1.25rem"}},e.color]})),l.Z.div((function(e){return[{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem","@media (min-width: 1024px)":{gap:"0.75rem"},"@media (min-width: 1536px)":{gap:"1rem"}},e.textColor]}))),Qe=l.Z.div((function(e){return[{position:"relative",display:"flex",flex:"1 1 0%",flexDirection:"column",borderRadius:"0.75rem","::-webkit-scrollbar-track":{marginTop:"0.5rem",marginBottom:"0.5rem"},"@media (min-width: 500px)":{overflowY:"auto"}},e.color]})),$e=l.Z.div({position:"relative",flex:"1 1 0%",overflowY:"auto",fontSize:"1.4rem","::-webkit-scrollbar-track":{marginTop:"0.5rem",marginBottom:"0.5rem"}}),et=l.Z.div({display:"flex",gap:"0.5rem"}),tt=(0,l.Z)(E.r)({height:"1.5rem",width:"1.5rem"}),rt=l.Z.button((function(e){var t=e.color,r=e.callToAction;return[{borderRadius:"0.75rem",borderWidth:"2px",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",":disabled":{pointerEvents:"none"},"@media (min-width: 500px)":{paddingTop:"0.5rem",paddingBottom:"0.5rem"}},t,r&&[{":hover":{"--tw-brightness":"brightness(1.05)",filter:"var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)"}},r],e.grayscale&&{opacity:"0.5","--tw-grayscale":"grayscale(100%)",filter:"var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)"}]})),nt=(0,l.Z)(rt)({flex:"1 1 0%",paddingLeft:"0px",paddingRight:"0px",containerType:"inline-size",containerName:"sendButton"}),it=l.Z.span((function(e){return[{fontWeight:"500","@container liveMonitorCard (min-width: 28rem)":{fontSize:"1.2rem"}},e.textColor,"Inactive"===e.status&&{"@container sendButton (min-width: 85px)":{"& span:nth-child(1)":{display:"none"},"& span:nth-child(2)":{display:"block !important"}},"& span:nth-child(2)":{display:"none"}}]})),ot={inset:"0px",zIndex:"10",height:"125%",width:"125%","@media (min-width: 1024px)":{inset:"-25%",height:"150%",width:"150%"},"@media (min-width: 1950px)":{inset:"-50%",height:"200%",width:"200%"}},at={backgroundImage:"none",stroke:"#fff"},lt={height:"4rem",width:"4rem",backgroundImage:"none !important","@media (min-width: 500px)":{height:"3.6rem",width:"3.6rem"}},st={borderWidth:"2px"},ut={marginLeft:"auto",marginRight:"auto"};function dt(e){var t=e.acellusID,r=e.monitor,n=e.openVideo,a=(0,m.Z)("md"),l=(0,m.Z)("lg"),v=(0,s.useState)(null),h=(0,o.Z)(v,2),g=h[0],w=h[1],x=l?{x:[40,50],y:[40,50]}:a?{x:[30,40],y:[30,40]}:{x:[20,30],y:[20,30]},y=(0,u.s0)();(0,s.useEffect)((function(){var e=new AbortController;return p.Z.get(t,e.signal).then((function(e){return w(e)})).catch((function(){})),function(){return e.abort()}}),[t]);var b=(0,d.useSearchParams)(),C=(0,o.Z)(b,2)[1],Z=(0,s.useCallback)((function(){C({modal:"student/report-card",acellusID:t})}),[C,t]),k=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="/teacher/live-session/".concat(r.acellusID);e&&(t+="/chat"),y(t)}),[r.acellusID,y]),j=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.displayCourseID;C({modal:"student/course-progress",acellusID:t,displayCourseID:e,assignmentID:arguments.length>1?arguments[1]:void 0})}),[t,r.displayCourseID,C]),I=(0,s.useCallback)((function(e){if(r.videoPath)return n(r.videoPath,r.stepTitle);e.target.disabled=!0,c.Z.get({acellusID:r.acellusID}).then((function(e){var t=(0,o.Z)(e.students,1)[0],r=new URL("/teacher/preview/".concat(t.acellusID,"/").concat(t.displayCourseID,"/").concat(t.syllabusStepID),window.location.href);t.problemStepID&&r.searchParams.set("problem",t.problemStepID),window.open(r,"_blank")})).finally((function(){return e.target.disabled=!1}))}),[r.acellusID,r.stepTitle,r.videoPath,n]);return g?(0,D.jsx)(f.v4,{oneTime:!0,dimensions:x,children:(0,D.jsx)(T,(0,i.Z)((0,i.Z)({profile:g},e),{},{children:function(t){var r=t.flipperRef,n=t.flipping,o=t.flipped,a=t.shake,l=t.minHeight;return(0,D.jsx)(pt,{flipping:n,minHeight:!!o&&l,shake:a,children:(0,D.jsxs)(ft,{ref:r,flipped:o,children:[(0,D.jsx)(Le,(0,i.Z)((0,i.Z)({},e),{},{visible:!n&&o,profile:g,openPreview:I,openReportCard:Z,openLiveSession:k,openCourseProgress:j})),(0,D.jsx)(de,(0,i.Z)((0,i.Z)({},e),{},{visible:!n&&!o,profile:g,openPreview:I,openReportCard:Z,openLiveSession:k,openCourseProgress:j}))]})})}}))}):(0,D.jsx)(mt,{})}var ct=(0,s.memo)(dt,(function(e,t){return(0,v.Z)(e.monitor,t.monitor)&&(0,v.Z)(e.alerts,t.alerts)})),pt=l.Z.div((function(e){var t=e.shake,r=e.minHeight,i=e.flipping;return[{minHeight:"25rem",backgroundColor:"transparent",containerType:"inline-size",containerName:"liveMonitorCard",perspective:"1000px","@media (min-width: 500px)":{minHeight:"0px"}},t&&{"@keyframes shake":{"0%":{transform:"translate(1px, 1px) rotate(0deg);"},"10%":{transform:"translate(-1px, -2px) rotate(-1deg);"},"20%":{transform:"translate(-3px, 0px) rotate(1deg);"},"30%":{transform:"translate(3px, 2px) rotate(0deg);"},"40%":{transform:"translate(1px, -1px) rotate(1deg);"},"50%":{transform:"translate(-1px, 2px) rotate(-1deg);"},"60%":{transform:" translate(-3px, 1px) rotate(0deg);"},"70%":{transform:"translate(3px, 1px) rotate(-1deg);"},"80%":{transform:"translate(-1px, -1px) rotate(1deg);"},"90%":{transform:"translate(1px, 2px) rotate(0deg);"},"100%":{transform:"translate(1px, -2px) rotate(-1deg);"}},animation:"shake 0.5s infinite"},r&&(0,a.iv)(Fe||(Fe=(0,n.Z)(["\n      min-height: ","px;\n    "])),r),i&&{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms"}]})),ft=l.Z.div((function(e){return[{position:"relative",height:"100%",transitionProperty:"transform",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"500ms",transformStyle:"preserve-3d"},e.flipped&&{transform:"rotateY(180deg)"}]}));function mt(){return(0,D.jsxs)(vt,{children:[(0,D.jsx)(me,{children:(0,D.jsx)(wt,{})}),(0,D.jsxs)(ve,{children:[(0,D.jsxs)(kt,{children:[(0,D.jsx)(yt,{}),(0,D.jsx)(ge,{})]}),(0,D.jsxs)(Zt,{children:[(0,D.jsx)(Ct,{children:"Random Name"}),(0,D.jsx)(bt,{children:"Random Class"})]}),(0,D.jsxs)(Ze,{children:[(0,D.jsx)(ue.Z,{progress:100,progressStyles:xt}),(0,D.jsx)(je,{children:new Array(5).fill((0,D.jsx)(ht,{children:(0,D.jsx)(gt,{})}))})]})]})]})}var vt=(0,l.Z)(ce)({containerType:"inline-size",containerName:"SkeletonCard"}),ht=(0,l.Z)(De)({"@keyframes pulse":{"50%":{opacity:"1"},"0%":{opacity:"0.5"},"100%":{opacity:"0.5"}},animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite","--tw-bg-opacity":"1",backgroundColor:"rgb(209 213 219 / var(--tw-bg-opacity))"}),gt=l.Z.span({display:"block",height:"1.5rem",width:"1.5rem"}),wt=l.Z.div({height:"1.8rem",width:"25%","@keyframes pulse":{"50%":{opacity:"1"},"0%":{opacity:"0.5"},"100%":{opacity:"0.5"}},animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(209 213 219 / var(--tw-bg-opacity))","@container SkeletonCard (min-width: 28rem)":{height:"2.1rem"}}),xt={height:"8px","@keyframes pulse":{"50%":{opacity:"1"},"0%":{opacity:"0.5"},"100%":{opacity:"0.5"}},animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite","--tw-bg-opacity":"1",backgroundColor:"rgb(209 213 219 / var(--tw-bg-opacity))"},yt=l.Z.div((function(){return[{"@keyframes pulse":{"50%":{opacity:"1"},"0%":{opacity:"0.5"},"100%":{opacity:"0.5"}},animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(209 213 219 / var(--tw-bg-opacity))"},Oe]})),bt=l.Z.span({height:"1.5rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgb(209 213 219 / var(--tw-bg-opacity))",fontSize:"1.4rem",fontWeight:"500","--tw-text-opacity":"1",color:"transparent","@container SkeletonCard (min-width: 28rem)":{height:"1.8rem"}}),Ct=l.Z.span({height:"2rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgb(209 213 219 / var(--tw-bg-opacity))",color:"transparent"}),Zt=(0,l.Z)(we)({display:"flex","@keyframes pulse":{"50%":{opacity:"1"},"0%":{opacity:"0.5"},"100%":{opacity:"0.5"}},animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",flexDirection:"column",alignItems:"center",gap:"0.375rem"}),kt=(0,l.Z)(he)({"@keyframes pulse":{"50%":{opacity:"1"},"0%":{opacity:"0.5"},"100%":{opacity:"0.5"}},animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"})},20360:function(e,t,r){r.d(t,{G5:function(){return b},ZP:function(){return y}});var n=r(1413),i=r(29439),o=r(44925),a=r(47313),l=r(99974),s=r(2494),u=r(32665),d=r(80425),c=r(29079),p=r(66640),f=r(11360),m=r(58229),v=r(17583),h=r(46417),g=["children"],w=["type","acellusID"],x=(0,a.createContext)(null);function y(e){var t=e.children,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,r=e.displayCourseID,o=(0,a.useReducer)(Z,null),u=(0,i.Z)(o,2),d=u[0],p=u[1],h=(0,a.useState)(!1),g=(0,i.Z)(h,2),w=g[0],x=g[1],y=(0,c.ZP)().events,b=(0,a.useRef)(d),k=(0,a.useRef)({}),j=(0,a.useRef)(w),D=(0,a.useCallback)((function(e,t){r&&t.displayCourseID!==r||p({type:"update_monitor",acellusID:e,monitor:t})}),[r]),I=(0,a.useCallback)((function(e,t){r&&t.displayCourseID!==r||p({type:"set_monitor",acellusID:e,monitor:t})}),[r]),S=(0,a.useCallback)((function(e){var t=k.current[e];delete k.current[e],p({type:"unfreeze_card",acellusID:e}),t&&p({type:"update_monitor",acellusID:e,monitor:t})}),[]),T=(0,a.useCallback)((function(e){return p({type:"freeze_card",acellusID:e})}),[]),M=(0,a.useCallback)((function(){if(j.current)return function(){};var e,n=new AbortController;return x(j.current=!0),s.Z.get({limit:t,displayCourseID:r},n.signal).then((function(e){var t;return null===(t=e.students)||void 0===t?void 0:t.forEach((function(e){return I(e.acellusID,e)}))})).catch((function(e){3948!==e.status&&toast.error("Failed to load monitor.\n".concat(e.message))})).finally((function(){e=setTimeout((function(){return x(j.current=!1)}),1e3)})),function(){n.abort(),j.current=!1,clearTimeout(e)}}),[t,r,I]),R=(0,a.useCallback)((function(e){var t=new AbortController;return s.Z.get({acellusID:e},t.signal).then((function(t){return D(e,t.students[0])})),function(){return t.abort()}}),[D]);(0,a.useLayoutEffect)((function(){return p({type:"reset"})}),[M]),(0,a.useEffect)((function(){var e=new AbortController;return l.Z.get(void 0,e.signal).then((function(e){return e.actionItems.filter((function(e){return(!r||e.displayCourseID===r)&&Object.keys(v.pC).includes(e.meta.itemType)})).forEach((function(e){return p({type:"add_alert",acellusID:e.acellusID,alert:e})}))})),function(){return e.abort()}}),[r,M]),(0,a.useEffect)((function(){var e=M(),t=setTimeout((function(){return e=M()}),5*f.x7);return Array.prototype.forEach.bind([e,function(){return clearTimeout(t)}],(function(e){return null===e||void 0===e?void 0:e()}))}),[M]),(0,a.useEffect)((function(){b.current=d}),[d]),(0,a.useEffect)((function(){return Array.prototype.forEach.bind([y.on("monitor",(function(e){var t=e.from,r=e.classId,i=e.monitor;return I(t,(function(e){var o,a,l,s,u;return(0,n.Z)((0,n.Z)({},i),{},{acellusID:t,displayCourseID:r,status:(0,n.Z)((0,n.Z)({},i.status),{},{handled:(null===e||void 0===e||null===(o=e.status)||void 0===o?void 0:o.type)===(null===i||void 0===i||null===(a=i.status)||void 0===a?void 0:a.type)&&e.status.handled||(null===i||void 0===i||null===(l=i.status)||void 0===l?void 0:l.handled),cancelled:(null===e||void 0===e||null===(s=e.status)||void 0===s?void 0:s.type)===(null===i||void 0===i||null===(u=i.status)||void 0===u?void 0:u.type)&&e.status.cancelled})})}))})),y.on("leaving",(function(e){var t=e.from;return I(t,(0,n.Z)((0,n.Z)({},C),{},{acellusID:t}))}))],(function(e){return e()}))}),[y,I]);var E=(0,a.useMemo)((function(){return{allStudents:d,students:null===d||void 0===d?void 0:d.slice(0,t),dispatch:p,updateMonitor:D,setMonitor:I,unfreezeCard:S,freezeCard:T,refresh:M,refreshCard:R,refreshing:w,refreshingRef:j}}),[d,t,D,I,S,T,M,R,w]);(0,m.L1)()&&(console.log("@@ LiveMonitor:",E),window.lm=E);return E}((0,o.Z)(e,g)),p=(0,a.useMemo)((function(){return"function"===typeof t?t(r):a.Children.map(t,(function(e){return(0,a.isValidElement)(e)?(0,a.cloneElement)(e,r):e}))}),[t,r]);return(0,h.jsx)(x.Provider,{value:r,children:(0,h.jsx)(u.Z,{customContentStyles:j,isStatic:!0,xDirection:"center",children:(0,h.jsx)(d.Z,{children:p})})})}function b(){var e=(0,a.useContext)(x);if(!e)throw new Error("useLiveMonitorContext() can only be called within a LiveMonitorProvider.");return e}var C={courseName:"",stepTitle:"",weeklyGoal:0,completedToday:0,completedThisWeek:0,minutesSpent:0,currentStepNum:0,stepsLeft:0,percentCompleted:0,displayCourseID:0,syllabusStepID:0,status:{color:"gray",type:"Signed Out"}};function Z(e,t){var r,i,a,l,s,u,d,c,p=t.type,f=t.acellusID,m=(0,o.Z)(t,w);if("reset"===p)return null;var h=e?structuredClone(e):[],g=h.findIndex((function(e){return e.acellusID===f}));~g||(g=h.push({acellusID:f,frozen:!1,showApple:!1,alerts:[],monitor:(0,n.Z)({acellusID:f},C)})-1);var x=h[g];if(!k[p])throw new Error("Unknown action type.");k[p](x,m),null!==(r=x.alerts)&&void 0!==r&&r.length||!("gray"===(null===(i=x.monitor)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.color)||0===(null===(l=x.monitor)||void 0===l?void 0:l.displayCourseID)||null!==(s=v.h9[null!==(u=null===(d=x.monitor)||void 0===d||null===(c=d.status)||void 0===c?void 0:c.type)&&void 0!==u?u:"None"])&&void 0!==s&&s.hidden)||h.splice(g,1);var y=h.filter((function(e){return e.frozen})),b=h.filter((function(e){return!y.some((function(t){var r=t.acellusID;return e.acellusID===r}))}));return b.sort((function(e,t){var r,n,i,o,a,l,s,u,d,c,p,f,m,h,g,w,x,y,b,C,Z,k,j,D,I,S,T=v.h9[null!==(r=null===(n=e.monitor)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.type)&&void 0!==r?r:"None"],M=v.h9[null!==(o=null===(a=t.monitor)||void 0===a||null===(l=a.status)||void 0===l?void 0:l.type)&&void 0!==o?o:"None"],R=!(null===(s=t.alerts)||void 0===s||!s.length)-!(null===(u=e.alerts)||void 0===u||!u.length),E=!(null===(d=e.monitor)||void 0===d||null===(c=d.status)||void 0===c||!c.handled)-!(null===(p=t.monitor)||void 0===p||null===(f=p.status)||void 0===f||!f.handled),O=("red"===(null===(m=t.monitor)||void 0===m||null===(h=m.status)||void 0===h?void 0:h.color))-("red"===(null===(g=e.monitor)||void 0===g||null===(w=g.status)||void 0===w?void 0:w.color)),P=(!(null!==(x=t.monitor)&&void 0!==x&&null!==(y=x.status)&&void 0!==y&&y.handled)&&(null!==(b=null===M||void 0===M?void 0:M.priority)&&void 0!==b?b:0))-(!(null!==(C=e.monitor)&&void 0!==C&&null!==(Z=C.status)&&void 0!==Z&&Z.handled)&&(null!==(k=null===T||void 0===T?void 0:T.priority)&&void 0!==k?k:0)),z=(null!==(j=null===(D=t.monitor)||void 0===D?void 0:D.lastActivity)&&void 0!==j?j:0)-(null!==(I=null===(S=e.monitor)||void 0===S?void 0:S.lastActivity)&&void 0!==I?I:0);return R||E||O||P||z})),y.forEach((function(e){return b.splice(h.indexOf(e),0,e)})),b}var k={set_monitor:function(e,t){var r,i,o,a,l,s,u,d=t.monitor;"function"===typeof d&&(d=d(e.monitor)),e.monitor=(0,n.Z)((0,n.Z)({acellusID:e.acellusID},d),{},{status:(0,n.Z)((0,n.Z)({},d.status),{},{cancelled:(null===(r=d)||void 0===r||null===(i=r.status)||void 0===i?void 0:i.type)===(null===e||void 0===e||null===(o=e.monitor)||void 0===o||null===(a=o.status)||void 0===a?void 0:a.type)&&(null!==(l=null===e||void 0===e||null===(s=e.monitor)||void 0===s||null===(u=s.status)||void 0===u?void 0:u.cancelled)&&void 0!==l&&l)})})},update_monitor:function(e,t){var r,n=t.monitor;"function"===typeof n&&(n=n(e.monitor)),(0,p.Z)(null!==(r=e.monitor)&&void 0!==r?r:e.monitor={acellusID:e.acellusID},n)},update_alerts:function(e,t){var r=t.alerts;e.alerts=r},add_alert:function(e,t){var r,n,i=t.alert;null!==(r=e.alerts)&&void 0!==r&&r.find((function(e){return e.alertID===i.alertID}))||(null!==(n=e.alerts)&&void 0!==n?n:e.alerts=[]).push(i)},remove_alert:function(e,t){var r=t.alertID;e.alerts=e.alerts.filter((function(e){return r!==e.alertID}))},freeze_card:function(e){e.frozen=!0},unfreeze_card:function(e){e.frozen=!1}},j={maxWidth:"23rem",whiteSpace:"normal"}}}]);