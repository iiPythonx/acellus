"use strict";(self.webpackChunkacellus=self.webpackChunkacellus||[]).push([[1668],{66725:function(e,t,r){r.d(t,{Z:function(){return c}});var i=r(29439),a=r(43681),o=r(47313),n=r(52474),d=r(21860),s=r(46417);function c(e){var t=e.imageID,r=e.props,a=(0,o.useRef)(),c=(0,o.useState)(0),p=(0,i.Z)(c,2),u=p[0],m=p[1],g=(0,o.useState)(1),w=(0,i.Z)(g,2),b=w[0],f=w[1],v=(0,n.vS)(t),x=(0,n.dc)(t),y=(0,n.c5)(t);return(0,s.jsxs)(l,{children:[(0,s.jsx)(h,{ref:a,"data-testid":"book-img"}),(0,s.jsx)("img",{className:"hidden",src:v,alt:t,onLoad:function(e){var t=a.current,r=t.getContext("2d"),i=e.target;t.width=i.naturalWidth,t.height=i.naturalHeight,r.drawImage(i,0,0,t.width,t.height),m(i.naturalWidth),f(i.naturalWidth/i.naturalHeight)}}),u>0&&(null===r||void 0===r?void 0:r.map((function(e){return(0,s.jsx)(d.Z,{id:e.image,bgWidth:u,bgRatio:b,horizon:x,minSize:y,x:e.x,y:e.y,dropZoneRef:a,isDraggable:!1},"".concat(e.image," - x:").concat(e.x," y:").concat(e.y))})))]})}var l=a.Z.div({position:"relative",overflow:"hidden"}),h=a.Z.canvas({height:"100%",width:"100%",objectFit:"contain"})},41428:function(e,t,r){r.d(t,{Z:function(){return o}});var i=r(93433),a=r(47313);function o(e,t){var r=function(e,t){var r=(0,a.useRef)(),i=(0,a.useRef)(e);(0,a.useEffect)((function(){i.current=e}),[e]);var o=(0,a.useCallback)((function(){r.current=setTimeout((function(){return i.current()}),t)}),[t]),n=(0,a.useCallback)((function(){r.current&&clearTimeout(r.current)}),[]),d=(0,a.useCallback)((function(){n(),o()}),[n,o]);return(0,a.useEffect)((function(){return o(),n}),[t,o,n]),{clear:n,reset:d}}(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:300),o=r.reset,n=r.clear;return(0,a.useEffect)(o,[].concat((0,i.Z)(t),[o])),(0,a.useEffect)(n,[n]),n}},23998:function(e,t,r){r.r(t),r.d(t,{default:function(){return me}});var i=r(29439),a=r(43681),o=r(47313),n=r(67615),d=r(51083),s=r(65240),c=r(83291),l=r(41428),h=r(18804),p=r(52474),u=r(69293),m=r(46417);function g(e){var t=e.query,r=e.setQuery,a=e.setLoading,n=(0,u.Z)(),d=(0,h.vf)(),g=d.searchLibrary,x=d.changeSubject,y=(0,p.T0)(n),k=(0,o.useState)(y[0]),j=(0,i.Z)(k,2),C=j[0],Z=j[1],S=function(){g(t),a(!1)},O=(0,l.Z)(S,[t],1e3);return(0,o.useEffect)((function(){t&&a(!0)}),[t,a]),(0,o.useEffect)((function(){r(""),x(C),a(!1)}),[C,x,r,a]),(0,m.jsxs)(w,{student:!0,children:[(0,m.jsx)(v,{children:(0,m.jsx)(s.Z,{toggles:y,toggle:C,setToggle:Z,textStyles:"H"===n&&{minWidth:"10rem"}})}),(0,m.jsxs)(b,{children:[(0,m.jsx)(c.I,{onKeyDown:function(e){"Enter"===e.key&&(O(),S())},type:"text",customStyles:{borderRadius:"9999px",paddingLeft:"4rem"},placeholder:"Search",value:t,onChange:function(e){return r(e.target.value)}}),(0,m.jsx)(f,{})]})]})}var w=(0,a.Z)(d.i)({display:"flex",flexDirection:"column",alignItems:"center",gap:"2rem"}),b=a.Z.div({position:"relative",display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center","@media (min-width: 768px)":{width:"90%"},"@media (min-width: 1024px)":{position:"absolute",right:"4rem",width:"13%"},"@media (min-width: 1280px)":{right:"5rem",width:"15%"}}),f=(0,a.Z)(n.r)({position:"absolute",left:"1.5rem",height:"1.75rem",width:"1.75rem",opacity:"0.5"}),v=a.Z.div({width:"100%","@media (min-width: 768px)":{width:"90%"},"@media (min-width: 1024px)":{width:"fit-content"}}),x=r(35667),y=r(30168),k=r(30686),j=r(85096),C=r(2135),Z=r(56825),S=r(67134),O=["title","titleId"];function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},L.apply(this,arguments)}function z(e,t){if(null==e)return{};var r,i,a=function(e,t){if(null==e)return{};var r,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function E(e,t){var r=e.title,i=e.titleId,a=z(e,O);return o.createElement("svg",L({width:"100%",height:"100%",viewBox:"0 0 20 20",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:t,"aria-labelledby":i},a),r?o.createElement("title",{id:i},r):null,o.createElement("path",{d:"M10,18C14.389,18 18,14.389 18,10C18,5.611 14.389,2 10,2C5.611,2 2,5.611 2,10C2,14.389 5.611,18 10,18ZM9.555,7.168C9.391,7.058 9.198,7 9,7C8.451,7 8,7.451 8,8L8,12C8,12.549 8.451,13 9,13C9.198,13 9.391,12.942 9.555,12.832L12.555,10.832C12.833,10.647 13,10.334 13,10C13,9.666 12.833,9.353 12.555,9.168L9.555,7.168Z",style:{fill:"white"}}))}var T=o.forwardRef(E),M=(r.p,r.p+"static/media/tobler-space.fda70da9624d1ee4fe04.png"),R=r.p+"static/media/beek-rocket.5b2ddd96e2fa19b7ff82.png",W=r.p+"static/media/tobler-telescope.435b7d7534f97b834a9c.png",I=r.p+"static/media/beek-circus.36d04fd8d0173ae6d9f0.png",B=r.p+"static/media/tobler-circus.7bddee224950fee9cc77.png",H=r.p+"static/media/tobler-circus-2.2d3779b938dce1ca3789.png",D=r.p+"static/media/beek-circus-2.a7d3e2b31f3b1b32e12b.png",P=r.p+"static/media/tobler-beek-rocket.9517d9df8c9007bc2238.png",F=r.p+"static/media/tobler-fourPoint-school.e63acc2baaf0192d4ed7.png",G=r.p+"static/media/tobler-school.671292f7f115c49222f2.png",N=r(66725),X=r(98469),A=r(32250),q=r(2727),Q=r(58229);function V(e){var t=e.book,r=(e.gapSize,e.showMore),i=(0,u.Z)(),a=t.author,o=t.title,n=t.profileAvatarURL,d=t.acellusID,s=t.type,c=t.isNew,l=t.props,h=t.id,p=t.background,g=(0,Q.yv)()?p:re[p];return(0,m.jsxs)(J,{schoolLevel:i,showMore:r,to:"/student/library/read-book?b=".concat(h),children:[(0,m.jsxs)(_,{schoolLevel:i,children:[(0,m.jsx)(Y,{thumbnail:g,title:o,props:l}),c&&(0,m.jsx)($,{children:"NEW"}),"E"===i&&(0,m.jsx)(Z.Z,{"aria-label":"View Book",color:"yellow",colorNum:500,children:(0,m.jsx)(S.r,{"aria-hidden":"true"})}),"v"===s&&(0,m.jsx)(U,{})]}),(0,m.jsx)(X.Z,{name:a,mainText:o,imgW:{E:4.7,M:3.8,H:3.8}[i],subText:"By ".concat(a),url:n,userID:d})]})}function Y(e){var t=e.thumbnail,r=e.title,i=e.props;return(0,m.jsx)(m.Fragment,{children:(0,Q.yv)()?(0,m.jsx)(q.G1,{children:(0,m.jsx)(N.Z,{imageID:t,props:i})}):(0,m.jsx)("img",{src:t,alt:r,"data-testid":"library-img"})})}var K,U=function(){return(0,m.jsx)(ee,{"aria-label":"Play Video",children:(0,m.jsx)(te,{"aria-hidden":"true"})})},J=(0,a.Z)(C.Link)((function(e){var t=e.showMore,r=e.schoolLevel;return[{position:"relative",display:"flex",width:"calc(var(--spaceWithoutGap) / var(--numberOfCards))",minWidth:"calc(var(--spaceWithoutGap) / var(--numberOfCards))",cursor:"pointer",flexDirection:"column",gap:"1.5rem",scrollBehavior:"smooth",paddingTop:"1rem",paddingBottom:"1rem",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms","--numberOfCards":"1.5","--spaceWithoutGap":"calc(100% - (calc(var(--gapSize) * calc(var(--numberOfCards) - 1))))","@media (min-width: 500px)":{"--numberOfCards":"2"},"@media (min-width: 640px)":{"--numberOfCards":"3"},"@media (min-width: 768px)":{"--numberOfCards":"4"},"@media (min-width: 1024px)":{"--numberOfCards":"5"},"@media (pointer: coarse)":{scrollSnapAlign:"start"}},"E"===r&&{marginTop:"1.5rem",marginBottom:"1.5rem",gap:"1.5rem",paddingTop:"0px",paddingBottom:"0px","--numberOfCards":"1.5","@media (min-width: 500px)":{"--numberOfCards":"1.5"},"@media (min-width: 640px)":{"--numberOfCards":"1.5"},"@media (min-width: 768px)":{"--numberOfCards":"2"},"@media (min-width: 1024px)":{"--numberOfCards":"4"},"@media (min-width: 1750px)":{marginTop:"2rem",marginBottom:"2rem",gap:"2rem"}},t&&"E"===r&&{"@media (min-width: 500px)":{"--numberOfCards":"2"},"@media (min-width: 1024px)":{"--numberOfCards":"4"}},t&&{width:"80%",flexWrap:"wrap","@media (min-width: 500px)":{width:"calc(var(--spaceWithoutGap) / var(--numberOfCards))"}}]})),$=a.Z.span({position:"absolute",top:"1.5rem",borderTopRightRadius:"0.5rem",borderBottomRightRadius:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",paddingLeft:"1.25rem",paddingRight:"1.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",fontSize:"1.6rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","@media (min-width: 1280px)":{top:"2.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}}),_=a.Z.div((function(e){var t=e.schoolLevel;return["E"===t?[{position:"relative","> button":{position:"absolute",bottom:"1.75rem",right:"2.5rem"}},A.k]:{position:"relative",overflow:"hidden",borderRadius:"1.5rem","--tw-shadow":"var(--tw-shadow-colored)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","--tw-shadow-color":"rgb(0 0 0 / 0.3)",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms",transform:"translateZ(0);",":hover":{"--tw-scale-x":"1.025","--tw-scale-y":"1.025",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-shadow":"var(--tw-shadow-colored)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","--tw-shadow-color":"rgb(0 0 0 / 0.3)"}},"H"===t&&{":is(.dark &)":{"--tw-shadow-color":"#1e293b","--tw-shadow":"var(--tw-shadow-colored)"},":is(.dark &):hover":{"--tw-shadow-color":"#0f172a","--tw-shadow":"var(--tw-shadow-colored)"}}]})),ee=a.Z.div({position:"absolute",inset:"0px",display:"flex",alignItems:"center",justifyContent:"center"}),te=(0,a.Z)(T)({height:"35%",width:"35%",fill:"#fff",opacity:"0.9","@media (min-width: 1280px)":{height:"30%",width:"30%"}}),re={"tobler-space.png":M,"beek-rocket.png":R,"tobler-telescope.png":W,"beek-circus.png":I,"tobler-circus.png":B,"tobler-circus-2.png":H,"beek-circus-2.png":D,"tobler-beek-rocket.png":P,"tobler-fourPoint-school.png":F,"beek-fourPoint-school.png":G},ie=r(58864);function ae(e){var t=e.theme,r=e.books,a=e.showAll,n=e.schoolLevel,s=(0,h.yX)(),c=s.initialLimit,l=s.pages,p=(0,h.vf)(),u=p.showMore,g=p.showLess,w=p.loadMore,b=(0,o.useState)(!1),f=(0,i.Z)(b,2),v=f[0],x=f[1],C=de[n],Z=v||a;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.i,{maxWidth:!0,children:(0,m.jsxs)(oe,{children:[(0,m.jsx)(se,{"data-testid":"library-category",children:t}),!a&&r.length>c-1&&(0,m.jsx)(ie.Z,{bgColor:{E:{":hover":{backgroundColor:"rgb(0 0 0 / 0.1)"}},M:{":hover":{backgroundColor:"rgb(10 94 118 / 0.3)"}},H:{"--tw-shadow":"0 0 #0000","--tw-shadow-colored":"0 0 #0000",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":hover":{backgroundColor:"rgb(100 116 139 / 0.1)","--tw-shadow":"0 1px 2px 0 rgb(0 0 0 / 0.05)","--tw-shadow-colored":"0 1px 2px 0 var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":is(.dark &:hover)":{backgroundColor:"rgb(255 255 255 / 0.1)"}}}[n],onClick:v?function(){g(t),x(!1)}:function(){u(t),x(!0)},children:(0,m.jsx)("p",{children:v?"Show Less":"See More"})})]})}),(0,m.jsx)(j.r,{customStyles:[(0,k.iv)(K||(K=(0,y.Z)(["\n            ","\n            gap: var(--gapSize);\n          "])),C),"H"===n&&{"@media (min-width: 1750px)":{"--margin":"calc(var(--spacing) / 2);"}}],showMore:Z,scrollThumbStyle:{E:{},M:{},H:{backgroundColor:"rgb(0 0 0 / 0.1)",":is(.dark &)":{backgroundColor:"rgb(255 255 255 / 0.2)"}}}[n],gapSizes:C,children:r.map((function(e){return(0,m.jsx)(V,{gapSize:C,book:e,showMore:Z},e.id)}))}),v&&l[t]&&"last"!==l[t]&&(0,m.jsx)(ne,{children:(0,m.jsx)(ie.Z,{bgColor:{E:{":hover":{backgroundColor:"rgb(0 0 0 / 0.1)"}},M:{":hover":{backgroundColor:"rgb(10 94 118 / 0.3)"}},H:{backgroundColor:"rgb(100 116 139 / 0.2)",":hover":{backgroundColor:"rgb(100 116 139 / 0.3)"},":is(.dark &)":{backgroundColor:"rgb(255 255 255 / 0.2)"},":is(.dark &:hover)":{backgroundColor:"rgb(255 255 255 / 0.3)"}}}[n],onClick:function(){return w(t)},children:(0,m.jsx)("p",{children:"Load More"})})})]})}var oe=a.Z.div({marginTop:"1.5rem",display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}),ne=(0,a.Z)(d.i)({display:"flex",justifyContent:"space-around",paddingTop:"1.5rem",paddingBottom:"1.5rem"}),de={E:{"--gapSize":"5%","@media (min-width: 768px)":{gap:"var(--gapSize)","--gapSize":"2.9%"},"@media (min-width: 1024px)":{"--gapSize":"2.25%"}},M:{"--gapSize":"5%","@media (min-width: 640px)":{"--gapSize":"2.9%"},"@media (min-width: 768px)":{gap:"var(--gapSize)"},"@media (min-width: 1024px)":{"--gapSize":"2%"}},H:{"--gapSize":"5%","@media (min-width: 640px)":{"--gapSize":"2.9%"},"@media (min-width: 768px)":{gap:"var(--gapSize)","--gapSize":"2%"}}},se=a.Z.h2({maxWidth:"50%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),ce=r(20496),le=r(43370),he=r(79250),pe=r(1837),ue=r(16826);function me(){var e=(0,pe.Z)(),t=(0,h.yX)(),r=t.library,a=t.searchedLibrary,n=(0,u.Z)(),d=(0,o.useState)(!1),s=(0,i.Z)(d,2),c=s[0],l=s[1],p=(0,o.useState)(""),w=(0,i.Z)(p,2),b=w[0],f=w[1];return(0,m.jsxs)(ce.Z,{noPaddingX:!0,title:"Library",bgColor:{backgroundImage:"linear-gradient(to bottom, var(--tw-gradient-stops))","--tw-gradient-from":"#F76E8F var(--tw-gradient-from-position)","--tw-gradient-to":"#C62968 var(--tw-gradient-to-position)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)"},pattern:le.LibraryBG,children:[["H","M"].includes(n)&&(0,m.jsx)(g,{query:b,setQuery:f,setLoading:l}),b&&!c&&(0,m.jsx)(ae,{schoolLevel:n,theme:"Search Results",books:a,showAll:!0}),!b&&r.map((function(e){var t=(0,i.Z)(e,2),r=t[0],a=t[1];return(0,m.jsx)(ae,{schoolLevel:n,theme:r,books:a},r)})),(c||0===r.length||b&&!c&&0===a.length&&!e)&&(0,m.jsxs)(ge,{children:[(0===r.length||b&&!c&&0===a.length&&!e)&&(0,m.jsx)(x.Z,{title:"No books found",whiteText:"H"!==n,children:(0,m.jsx)(ue.r,{})}),c&&(0,m.jsx)(he.Z,{strokeStyle:{stroke:"#004156"}})]})]})}var ge=a.Z.div({marginTop:"8rem"})}}]);