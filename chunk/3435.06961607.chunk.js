"use strict";(self.webpackChunkacellus=self.webpackChunkacellus||[]).push([[3435],{2053:function(e,t,r){r.d(t,{r:function(){return u}});var n,i=r(47313),s=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l(e,t){var r=e.title,l=e.titleId,u=o(e,s);return i.createElement("svg",a({fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":l},u),r?i.createElement("title",{id:l},r):null,n||(n=i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0l2.77-.693a9 9 0 016.208.682l.108.054a9 9 0 006.086.71l3.114-.732a48.524 48.524 0 01-.005-10.499l-3.11.732a9 9 0 01-6.085-.711l-.108-.054a9 9 0 00-6.208-.682L3 4.5M3 15V4.5"})))}var u=i.forwardRef(l);r.p},24751:function(e,t,r){r.d(t,{y:function(){return x},z:function(){return v}});var n=r(29439),i=r(43681),s=r(76109),a=r(25067),o=r(81517),l=r(46417),u=r(47313),d=u.useState,c=u.useEffect,p=r(2135),g=p.useFetcher,b=p.redirect,m=r(2084),h=m.settingData,y=m.courseSettings,f=m.testAllCourseSettings,j=r(78873).default;function v(e){var t=e.course,r=(e.updateCourseSettings,g()),i=d("Pending"),u=(0,n.Z)(i,2),p=u[0],b=u[1],m=d(!0),h=(0,n.Z)(m,2),v=h[0],x=h[1],T=(0,o.Av)().teacher;c((function(){s.Z.getEditStatus(t.courseID,"courseInfo",{}).then((function(e){(0,a.isErrorResponse)(e)?b("There was an error locking the Course Settings for this Course. This is in View-Only mode..."):e.lockedBy>0&&T.acellusID!==e.lockedBy?b("Someone else is editing the Course Settings ("+e.lockedBy+"). Try again later..."):s.Z.lockForEdit(t.courseID,"courseInfo",{}).then((function(e){(0,a.isErrorResponse)(e)?5===e.error?x(!1):b("There was an error locking this Course Settings for this Course.  This is in View-Only mode..."):e.alreadyLocked?b("Someone else is editing the Course Settings ("+e.lockedBy+"). This is in View-Only mode..."):b("")}))}))}),[]);if("pending"===p&&!0===v)return(0,l.jsx)(S,{children:p});var C=!1;p.length>1&&(C=!0);var O,k="/teacher/curriculum/course/"+t.displayCourseID;return!0===v?(0,l.jsxs)(S,{children:[p&&(0,l.jsx)(l.Fragment,{children:p}),(0,l.jsxs)(r.Form,{action:k,method:"post",onSubmit:function(e){var t=new FormData(e.target),r=Object.fromEntries(t.entries());console.log(r),f(r)||e.preventDefault()},children:[(0,l.jsx)("input",{type:"hidden",name:"courseID",value:t.courseID}),(0,l.jsx)("input",{type:"hidden",name:"active",value:!0}),(0,l.jsx)("input",{type:"hidden",name:"syllabusStepID",value:t.syllabusStepID}),(0,l.jsx)("input",{type:"hidden",name:"stepType",value:t.stepType}),(0,l.jsx)(w,{children:"Settings"}),y&&(null===(O=Object.entries(y))||void 0===O?void 0:O.map((function(e,r){return(0,l.jsx)(j,{settingData:e,setObj:t,disable:C},r)}))),!C&&(0,l.jsx)(D,{type:"submit",children:"Save"})]})]}):void 0}function x(){var e=g(),t=d(!1),r=(0,n.Z)(t,2),i=r[0],s=r[1];c((function(){e.data&&(console.log(e.data),(0,a.isErrorResponse)(e.data)||b("/"+e.data.displayCourseID))}),[e.data]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D,{onDoubleClick:function(){s(!i)},children:"New Course"}),i&&(0,l.jsx)(S,{children:(0,l.jsxs)(e.Form,{action:"/teacher/curriculum",method:"post",onSubmit:function(e){var t=new FormData(e.target),r=Object.fromEntries(t.entries());console.log(r)},children:[(0,l.jsx)("input",{type:"hidden",name:"active",value:!0}),(0,l.jsx)(j,{settingData:["courseName",h("courseName")],setObj:{},disable:!1}),(0,l.jsx)(j,{settingData:["description",h("description")],setObj:{},disable:!1}),(0,l.jsx)(j,{settingData:["ageRange",h("ageRange")],setObj:{},disable:!1}),(0,l.jsx)(j,{settingData:["subject",h("subject")],setObj:{},disable:!1}),(0,l.jsx)(j,{settingData:["courseNumber",h("courseNumber")],setObj:{},disable:!1}),(0,l.jsx)(D,{type:"submit",children:"Save"})]})})]})}var S=i.Z.div({width:"66.666667%",borderRadius:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(253 230 138 / var(--tw-bg-opacity))",padding:"1rem"}),w=i.Z.div({gridColumn:"span 2 / span 2",fontSize:"1.6rem"}),D=i.Z.button({margin:"0.75rem",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(245 158 11 / var(--tw-bg-opacity))",padding:"0.5rem","--tw-text-opacity":"1",color:"rgb(250 250 249 / var(--tw-text-opacity))"})},78873:function(e,t,r){r.r(t),r.d(t,{FlagIcon:function(){return g},default:function(){return p}});var n,i,s=r(30168),a=r(29439),o=r(43681),l=r(47313),u=r(2084),d=r(2053),c=r(46417);function p(e){var t=e.settingData,r=e.setObj,n=e.disable,i=e.onChange,s=(0,l.useState)(!1),o=(0,a.Z)(s,2),d=o[0],p=o[1],f="undefined"!==typeof n&&n,j=t[0],v=r[j],S=t[1];(0,l.useEffect)((function(){var e=(0,u.settingCheck)(v,S,S.required,r,[]);p(!e)}),[]);var w=function(e){var t=e.target.value,n=(0,u.settingCheck)(t,S,S.required,r,[]);p(!n),"undefined"!==typeof i&&i(t)};return"undefined"===typeof f||f||!0!==S.disable||(f=!0),(0,c.jsxs)(b,{children:[(0,c.jsx)(x,{title:S.instructions,children:S.label},"title"),(0,c.jsx)(g,{error:d},"flag"),["text","number"].includes(S.inputType)?(0,c.jsx)(m,{onChange:w,disabled:!0===f?"disabled":"",type:S.inputType,name:j,defaultValue:v},"input"):"select"===S.inputType?(0,c.jsx)(h,{onChange:w,disabled:!0===f?"disabled":"",name:j,defaultValue:v,children:S.availableData.map((function(e){var t=!1;return"undefined"!==typeof e.hide&&!0===e.hide&&(t=!0),e.id===v&&(t=!1),t?null:(0,c.jsx)("option",{value:e.id,children:e.name})}))},"select"):"checkbox"===S.inputType&&(0,c.jsx)(y,{type:"checkbox",onChange:w,disabled:!0===f?"disabled":"",name:j,checked:!0===v?"checked":""})]})}function g(e){var t=e.error;return(0,c.jsx)(f,{error:t,children:t?(0,c.jsx)(j,{}):(0,c.jsx)(v,{})})}var b=o.Z.div({display:"grid",width:"100%",gridTemplateColumns:"repeat(6, minmax(0, 1fr))",padding:"0.5rem"}),m=o.Z.input({gridColumn:"span 3 / span 3",width:"100%",borderRadius:"0.5rem"}),h=o.Z.select({gridColumn:"span 3 / span 3",width:"100%",borderRadius:"0.5rem"}),y=o.Z.input({height:"2rem",width:"2rem",borderRadius:"0.5rem"}),f=(o.Z.input({height:"2rem",width:"2rem",borderRadius:"0.5rem"}),o.Z.div({gridColumn:"span 3 / span 3",display:"flex",width:"100%"}),o.Z.div({marginLeft:"1rem",marginRight:"1rem",borderRadius:"9999px"})),j=(0,o.Z)(d.r)(n||(n=(0,s.Z)(["\n    ","\n"])),{bottom:"0.5rem",right:"0.75rem",float:"right",height:"2.5rem",width:"2.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(239 68 68 / var(--tw-text-opacity))"}),v=(0,o.Z)(d.r)(i||(i=(0,s.Z)(["\n    ","\n"])),{bottom:"0.5rem",right:"0.75rem",float:"right",height:"2.5rem",width:"2.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(16 185 129 / var(--tw-text-opacity))"}),x=o.Z.div({gridColumn:"span 2 / span 2",fontSize:"1.6rem"})},33435:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(29439),i=r(43681),s=r(47313),a=r(2135),o=r(24751),l=r(78873),u=r(2084),d=r(76109),c=r(81517),p=r(25067),g=r(46417);function b(e){var t=e.step,r=e.displayCourseID,i=e.setSettingStep,o=(0,s.useState)("Pending"),b=(0,n.Z)(o,2),m=b[0],f=b[1],j=(0,s.useState)(!0),v=(0,n.Z)(j,2),x=v[0],S=v[1],w=(0,c.Av)().teacher;console.log(w);var D=(0,a.useFetcher)();(0,s.useEffect)((function(){d.Z.getEditStatus(t.courseID,"syllabus",{syllabusStepID:t.syllabusStepID}).then((function(e){(0,p.isErrorResponse)(e)?f("There was an error locking this Syllabus Step's Settings. This is in View-Only mode..."):e.lockedBy>0&&w.acellusID!==e.lockedBy?f("Someone else is editing this Syllabus Step. Try again later..."):d.Z.lockForEdit(t.courseID,"syllabus",{syllabusStepID:t.syllabusStepID}).then((function(e){(0,p.isErrorResponse)(e)?5===e.error?S(!1):f("There was an error locking this Syllabus Step's Settings.  This is in View-Only mode..."):e.alreadyLocked?f("Someone else is editing this Syllabus Step. This is in View-Only mode..."):f("")}))}))}),[]),(0,s.useEffect)((function(){D.data&&((0,p.isErrorResponse)(D.data)||i({}))}),[D.data]);var T=(0,u.settingsForStepType)(t.stepType,t.drillType);if("pending"===m&&!0===x)return(0,g.jsx)(h,{children:m});var C=!1;m.length>1&&(C=!0);var O,k="/teacher/curriculum/course/"+r+"/"+t.syllabusStepID;return!0===x?(0,g.jsxs)(h,{children:[m&&(0,g.jsx)(g.Fragment,{children:m}),(0,g.jsxs)(D.Form,{action:k,method:"post",onSubmit:function(e){var t=new FormData(e.target),r=Object.fromEntries(t.entries());console.log(r),(0,u.testAllStepSettings)(r)||e.preventDefault()},children:[(0,g.jsx)("input",{type:"hidden",name:"courseID",value:t.courseID}),(0,g.jsx)("input",{type:"hidden",name:"syllabusStepID",value:t.syllabusStepID}),(0,g.jsx)("input",{type:"hidden",name:"stepType",value:t.stepType}),(0,g.jsx)(y,{children:"Settings"}),T&&(null===(O=Object.entries(T))||void 0===O?void 0:O.map((function(e,r){return(0,g.jsx)(l.default,{settingData:e,setObj:t,disable:C},r)}))),!C&&(0,g.jsx)("button",{type:"submit",children:"Save"})]})]}):void 0}function m(e){var t=e.updateSettings,r=e.course,i=(0,a.useFetcher)(),o=(0,s.useState)(!1),d=(0,n.Z)(o,2),c=d[0],p=d[1],b=(0,s.useState)("problem"),m=(0,n.Z)(b,2),y=m[0],j=m[1],v="/teacher/curriculum/course/"+r.displayCourseID;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f,{onDoubleClick:function(){p(!c),t({})},children:"New Step"}),c&&(0,g.jsx)(h,{children:(0,g.jsxs)(i.Form,{action:v,method:"post",onSubmit:function(e){var t=new FormData(e.target);Object.fromEntries(t.entries())},children:[(0,g.jsx)("input",{type:"hidden",name:"courseID",value:r.courseID}),(0,g.jsx)(l.default,{settingData:["stepNum",(0,u.settingData)("stepNum")],setObj:{},disable:!1}),(0,g.jsx)(l.default,{settingData:["stepTitle",(0,u.settingData)("stepTitle")],setObj:{},disable:!1}),(0,g.jsx)(l.default,{settingData:["stepDesc",(0,u.settingData)("stepDesc")],setObj:{},disable:!1}),(0,g.jsx)(l.default,{settingData:["learningObjective",(0,u.settingData)("learningObjective")],setObj:{},disable:!1}),(0,g.jsx)(l.default,{settingData:["stepType",(0,u.settingData)("stepType")],setObj:{},disable:!1,onChange:j}),"drill"===y&&(0,g.jsx)(l.default,{settingData:["drillType",(0,u.settingData)("drillType")],setObj:{},disable:!1}),(0,g.jsx)(l.default,{settingData:["theme",(0,u.settingData)("theme")],setObj:{},disable:!1}),(0,g.jsx)(f,{type:"submit",children:"Save"})]})})]})}var h=i.Z.div({width:"66.666667%",borderRadius:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(167 243 208 / var(--tw-bg-opacity))",padding:"1rem"}),y=i.Z.div({gridColumn:"span 2 / span 2",fontSize:"1.6rem"}),f=i.Z.button({margin:"0.75rem",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(20 184 166 / var(--tw-bg-opacity))",padding:"0.5rem","--tw-text-opacity":"1",color:"rgb(250 250 249 / var(--tw-text-opacity))"}),j=r(62953),v=r(70032),x=r(54330);function S(){var e=(0,j.Qi)(),t=e.course,r=e.syllabus,i=(0,s.useState)({}),a=(0,n.Z)(i,2),l=a[0],u=a[1],d=(0,s.useState)(!1),c=(0,n.Z)(d,2),p=c[0],h=c[1],y=function(e){u(e),h(!1)};return(0,g.jsxs)("div",{children:[(0,g.jsxs)(T,{children:[t.courseName," - Syllabus"]},"head"),(0,g.jsx)(m,{updateSettings:y,course:t},"newStep"),(0,g.jsx)(R,{onDoubleClick:function(){u({}),h(!0)},children:"Update Course Settings"}),p&&(0,g.jsx)(o.z,{course:t}),(0,g.jsx)(C,{children:r&&r.steps?(0,g.jsx)(g.Fragment,{children:r.steps.map((function(e){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(D,{step:e,updateSettings:u},e.syllabusStepID),"undefined"!==typeof l.syllabusStepID&&l.syllabusStepID===e.syllabusStepID&&(0,g.jsx)(b,{step:l,displayCourseID:t.displayCourseID,setSettingStep:y},"set_"+e.syllabusStepID)]})}))}):(0,g.jsx)(w,{})},"body")]})}function w(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("br",{}),(0,g.jsx)("h5",{children:"Start your Syllabus by adding your first Step"})]})}function D(e){var t=e.step,r=e.updateSettings,n=t.stepType,i=t.syllabusStepID,s=t.stepNum,a=t.stepTitle,o=t.learningObjective,d=t.examType,c=t.reviewType,p=t.linkedType,b=(0,v.q7)(n);return"reference"===n&&"undefined"!==typeof p&&(b=(0,v.q7)(p)),(0,g.jsxs)(O,{stepType:n,onDoubleClick:function(){return r(t)},children:[(0,g.jsxs)(k,{children:[(0,g.jsx)(I,{src:b}),(0,g.jsxs)(F,{to:"".concat(i),children:[s,". ",a," "]}),(0,g.jsx)(l.FlagIcon,{error:!(0,u.testAllStepSettings)(t)}),"exam"===n&&(0,g.jsxs)(Z,{children:["Test Type: ",(0,u.examTypeValue)(d)]}),"review"===n&&(0,g.jsxs)(Z,{children:["Test Type: ",(0,u.examTypeValue)(c)]})]}),(0,g.jsxs)(E,{children:["Learning Objective: ",o]})]})}var T=i.Z.h2({}),C=i.Z.div({height:"75dvh",width:"100%",overflow:"auto"}),O=x.ZP.div((function(e){var t=e.stepType;return[{marginTop:"0.75rem",marginBottom:"0.75rem",width:"66.666667%",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(224 242 254 / var(--tw-bg-opacity))",padding:"0.5rem",paddingLeft:"1.5rem"},("exam"===t||"review"===t)&&{"--tw-bg-opacity":"1",backgroundColor:"rgb(254 215 170 / var(--tw-bg-opacity))"}]})),k=i.Z.div({display:"flex",width:"100%",flex:"1 1 0%"}),Z=i.Z.div({float:"right",margin:"auto"}),I=i.Z.img({marginLeft:"0.5rem",marginRight:"0.5rem",height:"3.5rem",width:"3.5rem"}),F=(0,i.Z)(a.Link)({marginTop:"0.5rem",fontSize:"1.6rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(0 0 0 / var(--tw-text-opacity))"}),E=i.Z.div({width:"100%",flex:"1 1 0%",fontSize:"1.2rem"}),R=i.Z.button({margin:"0.75rem",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(245 158 11 / var(--tw-bg-opacity))",padding:"0.5rem","--tw-text-opacity":"1",color:"rgb(250 250 249 / var(--tw-text-opacity))"})}}]);