"use strict";(self.webpackChunkacellus=self.webpackChunkacellus||[]).push([[4501],{73529:function(e,t,r){r.d(t,{r:function(){return u}});var n,o=r(47313),i=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function c(e,t){var r=e.title,c=e.titleId,u=l(e,i);return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,ref:t,"aria-labelledby":c},u),r?o.createElement("title",{id:c},r):null,n||(n=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})))}var u=o.forwardRef(c);r.p},31423:function(e,t,r){r.d(t,{r:function(){return u}});var n,o=r(47313),i=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function c(e,t){var r=e.title,c=e.titleId,u=l(e,i);return o.createElement("svg",a({className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},u),r?o.createElement("title",{id:c},r):null,n||(n=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})))}var u=o.forwardRef(c);r.p},54501:function(e,t,r){r.d(t,{uV:function(){return ue},UO:function(){return ne},Az:function(){return re},M$:function(){return oe},DW:function(){return ie},ZP:function(){return X}});var n,o=r(93433),i=r(4942),a=r(1413),l=r(29439),c=r(43681),u=r(47313),d=r(73529),s=r(31423),p=["title","titleId"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function f(e,t){var r=e.title,o=e.titleId,i=v(e,p);return u.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":o},i),r?u.createElement("title",{id:o},r):null,n||(n=u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})))}var g=u.forwardRef(f),h=(r.p,r(88963)),b=r(20388),x=r(16533),w=r(11126),y=r(56766),j=r(73617),S=r(57830),k=r(58229),Z=r(46417);function C(e){var t=e.edit,r=e.onSelectChange,n=ue[t.type],o=(0,u.useMemo)((function(){return null!==n&&void 0!==n&&n.gradeFilter?P.filter(n.gradeFilter):P}),[null===n||void 0===n?void 0:n.gradeFilter]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(oe,{children:[(0,Z.jsx)(re,{children:"Choose a Criteria"}),(0,Z.jsx)(O,{children:"The action can be applied to all grades, or limited to specific grades and education programs."})]}),(0,Z.jsx)(re,{children:"Grade Level"}),(0,Z.jsx)(ne,{children:(0,Z.jsx)(b.Z,{data:o,selected:P.find((function(e){return e.value===t.gradeLevel})),name:"gradeLevel",onChange:r,dropDownStyle:ie})}),(0,Z.jsx)(re,{children:"Education Program"}),(0,Z.jsx)(ne,{children:(0,Z.jsx)(b.Z,{data:I,selected:I.find((function(e){return e.value===t.educationProgram})),name:"educationProgram",onChange:r,dropDownStyle:ie})})]})}var O=c.Z.span({fontSize:"1.2rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"}),P=[{name:"All Grades",value:""}].concat((0,o.Z)(k.ny)),I=[{name:"All Programs",value:0}].concat((0,o.Z)(k.Hq.slice(1))),L=r(60199),E=r(13797),R=r(58467),T=r(40290),A=r(77533),D=r(90628);function F(e){var t=e.acellusID,r=e.onRemove,n=(0,u.useState)(),o=(0,l.Z)(n,2),i=o[0],a=o[1];return(0,u.useEffect)((function(){var e=new AbortController;return a(T.Z.get(t,e.signal)),function(){return e.abort()}}),[t]),i?(0,Z.jsx)(u.Suspense,{fallback:(0,Z.jsx)(H,{}),children:(0,Z.jsx)(R.KP,{resolve:i,errorElement:(0,Z.jsx)(B,{onRemove:r}),children:(0,Z.jsx)(W,{onRemove:r})})}):(0,Z.jsx)(H,{})}function H(){return(0,Z.jsxs)(G,{children:[(0,Z.jsx)(D.Z,{wrapperStyles:z}),(0,Z.jsxs)(V,{children:[(0,Z.jsx)(q,{}),(0,Z.jsx)(N,{})]}),(0,Z.jsx)(K,{type:"button","aria-label":"Remove","data-testid":"remove-course","data-tooltip":"title",disabled:!0,children:(0,Z.jsx)(Q,{"aria-hidden":"true"})})]})}function W(e){var t=e.onRemove,r=(0,R.qv)();return(0,Z.jsxs)(G,{children:[(0,Z.jsx)(D.Z,{acellusID:r.acellusID,name:(0,k.Pp)(r),customStyles:z}),(0,Z.jsxs)(V,{children:[(0,Z.jsx)(U,{children:(0,k.Pp)(r,{middleName:"initial"})}),(0,Z.jsx)(J,{children:(0,k.eJ)(r.gradeLevel)})]}),(0,Z.jsx)(K,{type:"button","aria-label":"Remove","data-testid":"remove-course","data-tooltip":"title",onClick:t,children:(0,Z.jsx)(Q,{"aria-hidden":"true"})})]})}function B(e){var t=e.onRemove,r=(0,R.iG)();return(0,Z.jsxs)(M,{children:[(0,Z.jsx)(D.Z,{customStyles:z}),(0,Z.jsxs)(V,{children:[(0,Z.jsxs)(U,{children:["Error ",r.status,":"]}),(0,Z.jsxs)(J,{children:[r.message,"."]})]}),(0,Z.jsx)(K,{type:"button","aria-label":"Remove","data-testid":"remove-course","data-tooltip":"title",onClick:t,children:(0,Z.jsx)(Q,{"aria-hidden":"true"})})]})}var z={height:"4.5rem",width:"4.5rem"},G=c.Z.div({display:"flex",alignItems:"center",gap:"1rem",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(199 215 245 / var(--tw-bg-opacity))",padding:"1rem","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}),M=(0,c.Z)(G)({"--tw-bg-opacity":"1",backgroundColor:"rgb(252 225 156 / var(--tw-bg-opacity))"}),V=c.Z.div({display:"flex",minWidth:"0px",flex:"1 1 0%",flexDirection:"column"}),q=c.Z.div({marginTop:"0.4rem",marginBottom:"0.4rem",height:"1.6rem",width:"66.666667%","@keyframes pulse":{"50%":{opacity:"1"},"0%":{opacity:"0.5"},"100%":{opacity:"0.5"}},animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",borderRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgb(223 232 249 / var(--tw-bg-opacity))","@media (min-width: 640px)":{marginTop:"0.5rem",marginBottom:"0.5rem",height:"2rem"}}),N=c.Z.div({marginTop:"0.35rem",marginBottom:"0.35rem",height:"1.4rem",width:"50%","@keyframes pulse":{"50%":{opacity:"1"},"0%":{opacity:"0.5"},"100%":{opacity:"0.5"}},animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",borderRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgb(223 232 249 / var(--tw-bg-opacity))","@media (min-width: 1536px)":{marginTop:"0.4rem",marginBottom:"0.4rem",height:"1.6rem"}}),U=c.Z.span({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"1.4rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(41 93 204 / var(--tw-text-opacity))"}),J=c.Z.span({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"1.2rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"}),K=c.Z.button({position:"relative",marginLeft:"auto",borderRadius:"0.5rem",padding:"0.25rem",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms",":hover":{backgroundColor:"rgb(255 255 255 / 0.2)"}}),Q=(0,c.Z)(A.r)({marginTop:"auto",marginBottom:"auto",height:"2.5rem",width:"2.5rem",strokeWidth:"2","--tw-text-opacity":"1",color:"rgb(41 93 204 / var(--tw-text-opacity))"});function Y(e){var t,r,n=e.edit,i=e.onSelection,a=e.onRemove,c=(0,u.useState)(),d=(0,l.Z)(c,2),s=d[0],p=d[1],m=(0,u.useState)(),v=(0,l.Z)(m,2),f=v[0],g=v[1],h=(0,u.useState)(!1),b=(0,l.Z)(h,2),x=b[0],w=b[1],y=(0,u.useState)([]),j=(0,l.Z)(y,2),S=j[0],k=j[1],C=(0,u.useCallback)((function(e){var t;if(null===e||void 0===e||null===(t=e.trim)||void 0===t||!t.call(e))return g(null);L.Z.getSearch(e,{role:"student",status:"active"}).then((function(e){var t;return g((null===(t=e.result)||void 0===t?void 0:t.filter((function(e){var t,r=e.acellusID,o=e.gradeLevel,i=e.educationProgram;return!(null!==(t=n.excludedStudents)&&void 0!==t&&t.includes(r))&&(!n.gradeLevel||n.gradeLevel===o)&&(!n.educationProgram||n.educationProgram===i)})))||[])})).catch((function(){return g([])}))}),[n.educationProgram,n.excludedStudents,n.gradeLevel]),O=(0,u.useCallback)((function(e){console.log(e,"selection!"),k((function(t){return t.includes(e)?t.filter((function(t){return t.acellusID!==e.acellusID})):[].concat((0,o.Z)(t),[e])})),i(e)}),[i]),P=w.bind(void 0,!1),I=w.bind(void 0,!0);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(re,{children:"Students:"}),(0,Z.jsx)(ne,{children:(0,Z.jsx)(E.ZP,{fixed:!0,z:100,query:s,setQuery:p,placeholder:"Find a Student",onSearch:C,onSelection:O,results:f,showResults:x,onFocus:P,onBlur:I,onHide:I,selection:S,keepFocus:!0,keepOpen:!0,format:"userWithGradeLevel"})}),(null===(t=n.excludedStudents)||void 0===t?void 0:t.length)>0&&(0,Z.jsx)($,{children:null===(r=n.excludedStudents)||void 0===r?void 0:r.map((function(e){return(0,Z.jsx)(F,{acellusID:e,onRemove:function(){a(e),k((function(t){return t.filter((function(t){return t.acellusID!==e}))}))}},e)}))})]})}var $=c.Z.div({gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"repeat(1, minmax(0, 1fr))",gap:"1.5rem","@media (min-width: 768px)":{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"}});function X(e){var t=e.edit,r=e.setEdit,n=e.onSave,c=e.functions,d=(0,u.useMemo)((function(){return c.filter((function(e){return e.id!==t.id}))}),[c,t]),s=document.getElementById("modal"),p=(0,u.useState)((null===s||void 0===s?void 0:s.scrollHeight)-(null===s||void 0===s?void 0:s.clientHeight)-1),m=(0,l.Z)(p,2),v=m[0],f=m[1],g=(0,w.Z)(v,"modal"),h=(0,w.Z)(0,"modal"),S=(0,u.useState)((null===s||void 0===s?void 0:s.scrollHeight)-1>(null===s||void 0===s?void 0:s.clientHeight)),O=(0,l.Z)(S,2),P=O[0],I=O[1],L=(0,u.useRef)(structuredClone(t)),E=(0,u.useState)((function(){return!(0,j.Z)(L.current,t)})),R=(0,l.Z)(E,2),T=R[0],A=R[1];(0,u.useEffect)((function(){return A(!(0,j.Z)(L.current,t))}),[t]);var D=(0,u.useCallback)((function(){var e=function(){return r(null)};if(!T)return e();toast.confirm("Leave without saving?",(function(t){return t&&e()}))}),[T,r]),F=(0,x.G)("Leave without saving?",T).toastRef;(0,u.useEffect)((function(){return(0,k.Oo)("toast-confirm",(function(e){e.detail.id===F.current&&e.detail.confirmed&&A(!1)}))}),[A,F]);var H=(0,u.useCallback)((function(){if(!t.type)return toast.error("Please choose an action.");var e=structuredClone(t);switch(e.type){case"excludeStudents":e.educationProgram=0,e.gradeLevel="";break;case"archiveStudents":case"exportStudents":case"incrementGradeLevel":delete e.excludedStudents}if(d.find((function(e){return e.type===t.type&&e.educationProgram===t.educationProgram&&e.gradeLevel===t.gradeLevel})))return toast.error("A function with the same type and criteria already exists.");n(e).then((function(e){return e&&r(null)}))}),[t,d,n,r]),W=(0,u.useCallback)((function(e,t,n){return r((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,i.Z)({},n,e.value))}))}),[r]),B=(0,u.useCallback)((function(e){var t=e.acellusID;r((function(e){var r,n=null!==(r=e.excludedStudents)&&void 0!==r?r:[];return(0,a.Z)((0,a.Z)({},e),{},{excludedStudents:n.find((function(e){return e===t}))?n.filter((function(e){return e!==t})):[t].concat((0,o.Z)(n))})}))}),[r]),z=(0,u.useCallback)((function(e){r((function(t){return(0,a.Z)((0,a.Z)({},t),{},{excludedStudents:t.excludedStudents.filter((function(t){return Array.isArray(e)?!e.includes(t):t!==e}))})}))}),[r]),G=(0,u.useMemo)((function(){return de.filter((function(e){return"excludeStudents"!==e.value||!d.find((function(t){return t.type===e.value}))}))}),[d]);return(0,u.useEffect)((function(){f((null===s||void 0===s?void 0:s.scrollHeight)-(null===s||void 0===s?void 0:s.clientHeight)-1),I((null===s||void 0===s?void 0:s.scrollHeight)-1>(null===s||void 0===s?void 0:s.clientHeight))}),[G,null===s||void 0===s?void 0:s.clientHeight,null===s||void 0===s?void 0:s.scrollHeight]),(0,Z.jsx)(y.Z,{closeFunc:D,header:t.id?ue[t.type].name:"Add a Function",subHeader:[t.id?ue[t.type].subTitle:"To create your own Year-End function, choose an action and a criteria."],saveFunc:H,buttonWrapperStyles:[function(){return le({BottomOfPage:g,isScrolling:h,canScroll:P})},ae],contentWrapperStyles:ce,children:(0,Z.jsx)(ee,{children:(0,Z.jsxs)(te,{children:[(0,Z.jsx)(re,{children:"Choose an Action"}),(0,Z.jsx)(ne,{children:(0,Z.jsx)(b.Z,{data:G,selected:G.find((function(e){return e.value===t.type})),onChange:W,name:"type",dropDownStyle:ie,placeholder:"Select an Action"})}),(0,Z.jsx)(_,{}),"excludeStudents"===t.type?(0,Z.jsx)(Y,{edit:t,onSelection:B,onRemove:z}):(0,Z.jsx)(C,{edit:t,onSelectChange:W})]})})})}var _=c.Z.hr({gridColumn:"1 / -1",marginLeft:"calc(var(--spacing) * -1)",marginRight:"calc(var(--spacing) * -1)"}),ee=c.Z.div({height:"0px",flex:"1 1 0%"}),te=c.Z.div({display:"grid",gridTemplateColumns:"repeat(1, minmax(0, 1fr))",alignItems:"center",rowGap:"1.5rem",padding:"var(--spacing)","@media (min-width: 640px)":{gridTemplateColumns:"max-content 1fr",columnGap:"12rem",paddingLeft:"3rem",paddingRight:"3rem",paddingTop:"2.5rem",paddingBottom:"2.5rem"},"@media (min-width: 1024px)":{rowGap:"2.5rem"}}),re=c.Z.span({fontSize:"1.6rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"}),ne=c.Z.div({width:"100%"}),oe=c.Z.div({gridColumn:"1 / -1",display:"flex",flexDirection:"column",gap:"0.5rem"}),ie={zIndex:"50","--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"},ae={position:"sticky",bottom:"0px",left:"0px",right:"0px",borderTopWidth:"1px",backgroundColor:"rgb(255 255 255 / 0.25)","--tw-backdrop-blur":"blur(12px)",backdropFilter:"var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)","@media (min-width: 1024px)":{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","--tw-backdrop-blur":"blur(0)",backdropFilter:"var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)"}},le=function(e){var t=e.BottomOfPage,r=e.isScrolling,n=e.canScroll;return n&&!t||r&&!t?{"--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))"}:r||n?t&&r?{borderColor:"transparent !important"}:void 0:{borderColor:"transparent !important"}},ce={display:"flex",minHeight:"100%",flexDirection:"column"},ue={excludeStudents:{name:"Exclude Students",desc:"Choose a list of students to exclude from other actions (for special needs or other educational purposes).",subTitle:"Select the students you would like to exclude.",iconStyles:{"--tw-bg-opacity":"1",backgroundColor:"rgb(247 178 83 / var(--tw-bg-opacity))"},Icon:(0,c.Z)(d.r)({height:"3rem",width:"3rem"}),Message:function(e){var t=e.excludedStudents;return(0,Z.jsx)(Z.Fragment,{children:(0,S.bh)((null===t||void 0===t?void 0:t.length)||0,"Student")})}},incrementGradeLevel:{name:"Increment Grade Level",desc:"Automatically increment the academic grade level for all of your graduating students.",subTitle:"Select the students you would like to increment.",Icon:(0,c.Z)(h.r)({height:"3rem",width:"3rem"}),gradeFilter:function(e){return!["13","U","O"].includes(e.value)}},exportStudents:{name:"Export Students",desc:"Export a spreadsheet with student details. This can be used for transferring students to a different portal or for updating student info.",subTitle:"Select the students you would like to export.",Icon:(0,c.Z)(s.r)({height:"3rem",width:"3rem"})},archiveStudents:{name:"Archive Students",desc:"Create a list of students who are in a unique scenario and should not be exported, archived, or updated.",subTitle:"Select the students you would like to archive.",Icon:(0,c.Z)(g)({height:"3rem",width:"3rem"})}},de=Object.entries(ue).map((function(e){var t=(0,l.Z)(e,2),r=t[0],n=t[1];return{name:n.name,value:r,desc:n.desc}}))}}]);