"use strict";(self.webpackChunkacellus=self.webpackChunkacellus||[]).push([[7548],{57548:function(r,e,n){n.r(e),n.d(e,{default:function(){return f}});var o=n(74165),t=n(15861),s=n(29439),u=n(47313),c=n(20612),a=n(19925),l=n(58229),i=n(46417);function f(){var r=(0,u.useRef)(),e=(0,u.useState)("http://192.0.2.1/media/LI/VT2vBREe2zZDzs70eJbA.m3u8"),n=(0,s.Z)(e,2),f=n[0],h=n[1],v=(0,u.useState)(""),d=(0,s.Z)(v,2),p=d[0],g=d[1];(0,u.useEffect)((function(){var r=new AbortController;return c.Z.post("servercheck.gif",void 0,void 0,r.signal).then((function(r){g(r.url)})).catch((function(r){return logger.error("*****server check error",r)})),function(){return r.abort()}}),[]),console.log("****videoPath",f),console.log("****serverPath",p);var w=(0,u.useCallback)((0,t.Z)((0,o.Z)().mark((function r(){return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("*****there was an error"),r.next=3,(0,l.S0)(f,h,(function(){return console.log("****I give up")}));case 3:case"end":return r.stop()}}),r)}))),[f]);return(0,i.jsxs)("div",{children:[p&&(0,i.jsx)("img",{className:"hidden",src:p+"?"+Math.round(Date.now()/6e4),onError:function(){return c.Z.post(p,!0).catch((function(r){return logger.error("*****server down error",r)})).finally((function(){return g("")}))},alt:""}),(0,i.jsx)(a.Z,{src:f,playerRef:r,showControls:!0,showSpeedControls:!0,autoplay:!0,onError:w})]})}}}]);